2024-04-28 13:02:09.434 -04:00 [INF] Application is shutting down...
2024-04-28 13:02:09.437 -04:00 [DBG] Hosting stopping
2024-04-28 13:02:09.456 -04:00 [DBG] Hosting stopped
2024-04-28 14:22:08.025 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-04-28 14:22:08.389 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 14:22:08.394 -04:00 [DBG] Creating DbConnection.
2024-04-28 14:22:08.397 -04:00 [DBG] Created DbConnection. (1ms).
2024-04-28 15:23:19.386 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-04-28 15:23:19.733 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:23:19.738 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:23:19.750 -04:00 [DBG] Created DbConnection. (11ms).
2024-04-28 15:23:19.753 -04:00 [DBG] Opening connection to database 'MyStoreDB' on server 'tcp://localhost:5433'.
2024-04-28 15:23:19.823 -04:00 [DBG] Opened connection to database 'MyStoreDB' on server 'tcp://localhost:5433'.
2024-04-28 15:23:19.825 -04:00 [DBG] Closing connection to database 'MyStoreDB' on server 'tcp://localhost:5433'.
2024-04-28 15:23:19.828 -04:00 [DBG] Closed connection to database 'MyStoreDB' on server 'tcp://localhost:5433' (1ms).
2024-04-28 15:23:19.830 -04:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-28 15:23:19.832 -04:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2024-04-28 15:23:19.833 -04:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2024-04-28 15:23:19.833 -04:00 [DBG] Opening connection to database 'MyStoreDB' on server 'tcp://localhost:5433'.
2024-04-28 15:23:19.855 -04:00 [DBG] Opened connection to database 'MyStoreDB' on server 'tcp://localhost:5433'.
2024-04-28 15:23:19.857 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-04-28 15:23:19.887 -04:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-04-28 15:23:19.888 -04:00 [DBG] Closing connection to database 'MyStoreDB' on server 'tcp://localhost:5433'.
2024-04-28 15:23:19.889 -04:00 [DBG] Closed connection to database 'MyStoreDB' on server 'tcp://localhost:5433' (0ms).
2024-04-28 15:23:19.895 -04:00 [DBG] Opening connection to database 'MyStoreDB' on server 'tcp://localhost:5433'.
2024-04-28 15:23:19.895 -04:00 [DBG] Opened connection to database 'MyStoreDB' on server 'tcp://localhost:5433'.
2024-04-28 15:23:19.895 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:23:19.895 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:23:19.895 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:23:19.895 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-04-28 15:23:19.899 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-04-28 15:23:19.901 -04:00 [DBG] Closing data reader to 'MyStoreDB' on server 'tcp://localhost:5433'.
2024-04-28 15:23:19.902 -04:00 [DBG] A data reader for 'MyStoreDB' on server 'tcp://localhost:5433' is being disposed after spending 2ms reading results.
2024-04-28 15:23:19.902 -04:00 [DBG] Closing connection to database 'MyStoreDB' on server 'tcp://localhost:5433'.
2024-04-28 15:23:19.902 -04:00 [DBG] Closed connection to database 'MyStoreDB' on server 'tcp://localhost:5433' (0ms).
2024-04-28 15:23:19.903 -04:00 [DBG] Migrating using database 'MyStoreDB' on server 'tcp://localhost:5433'.
2024-04-28 15:23:19.903 -04:00 [DBG] Opening connection to database 'MyStoreDB' on server 'tcp://localhost:5433'.
2024-04-28 15:23:19.921 -04:00 [DBG] Opened connection to database 'MyStoreDB' on server 'tcp://localhost:5433'.
2024-04-28 15:23:19.921 -04:00 [DBG] Closing connection to database 'MyStoreDB' on server 'tcp://localhost:5433'.
2024-04-28 15:23:19.921 -04:00 [DBG] Closed connection to database 'MyStoreDB' on server 'tcp://localhost:5433' (0ms).
2024-04-28 15:23:19.921 -04:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-28 15:23:19.921 -04:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-28 15:23:19.921 -04:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-28 15:23:19.921 -04:00 [DBG] Opening connection to database 'MyStoreDB' on server 'tcp://localhost:5433'.
2024-04-28 15:23:19.921 -04:00 [DBG] Opened connection to database 'MyStoreDB' on server 'tcp://localhost:5433'.
2024-04-28 15:23:19.921 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-04-28 15:23:19.922 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-04-28 15:23:19.922 -04:00 [DBG] Closing connection to database 'MyStoreDB' on server 'tcp://localhost:5433'.
2024-04-28 15:23:19.922 -04:00 [DBG] Closed connection to database 'MyStoreDB' on server 'tcp://localhost:5433' (0ms).
2024-04-28 15:23:19.922 -04:00 [DBG] Opening connection to database 'MyStoreDB' on server 'tcp://localhost:5433'.
2024-04-28 15:23:19.936 -04:00 [DBG] Opened connection to database 'MyStoreDB' on server 'tcp://localhost:5433'.
2024-04-28 15:23:19.936 -04:00 [DBG] Closing connection to database 'MyStoreDB' on server 'tcp://localhost:5433'.
2024-04-28 15:23:19.936 -04:00 [DBG] Closed connection to database 'MyStoreDB' on server 'tcp://localhost:5433' (0ms).
2024-04-28 15:23:19.936 -04:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-28 15:23:19.936 -04:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-28 15:23:19.936 -04:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-28 15:23:19.936 -04:00 [DBG] Opening connection to database 'MyStoreDB' on server 'tcp://localhost:5433'.
2024-04-28 15:23:19.936 -04:00 [DBG] Opened connection to database 'MyStoreDB' on server 'tcp://localhost:5433'.
2024-04-28 15:23:19.936 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-04-28 15:23:19.937 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-04-28 15:23:19.937 -04:00 [DBG] Closing connection to database 'MyStoreDB' on server 'tcp://localhost:5433'.
2024-04-28 15:23:19.937 -04:00 [DBG] Closed connection to database 'MyStoreDB' on server 'tcp://localhost:5433' (0ms).
2024-04-28 15:23:19.937 -04:00 [DBG] Opening connection to database 'MyStoreDB' on server 'tcp://localhost:5433'.
2024-04-28 15:23:19.937 -04:00 [DBG] Opened connection to database 'MyStoreDB' on server 'tcp://localhost:5433'.
2024-04-28 15:23:19.937 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:23:19.937 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:23:19.937 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:23:19.937 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-04-28 15:23:19.937 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-04-28 15:23:19.937 -04:00 [DBG] Closing data reader to 'MyStoreDB' on server 'tcp://localhost:5433'.
2024-04-28 15:23:19.938 -04:00 [DBG] A data reader for 'MyStoreDB' on server 'tcp://localhost:5433' is being disposed after spending 0ms reading results.
2024-04-28 15:23:19.938 -04:00 [DBG] Closing connection to database 'MyStoreDB' on server 'tcp://localhost:5433'.
2024-04-28 15:23:19.938 -04:00 [DBG] Closed connection to database 'MyStoreDB' on server 'tcp://localhost:5433' (0ms).
2024-04-28 15:23:19.942 -04:00 [INF] No migrations were applied. The database is already up to date.
2024-04-28 15:23:19.942 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:23:19.943 -04:00 [DBG] Disposing connection to database 'MyStoreDB' on server 'tcp://localhost:5433'.
2024-04-28 15:23:19.943 -04:00 [DBG] Disposed connection to database 'MyStoreDB' on server 'tcp://localhost:5433' (0ms).
2024-04-28 15:23:19.962 -04:00 [DBG] Initializing Razor view compiler with no compiled views.
2024-04-28 15:23:19.965 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-04-28 15:23:19.970 -04:00 [INF] User profile is available. Using '/Users/ulia/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-04-28 15:23:19.985 -04:00 [DBG] Hosting starting
2024-04-28 15:23:19.988 -04:00 [DBG] Reading data from file '/Users/ulia/.aspnet/DataProtection-Keys/key-94a5b716-f00f-43b5-ac2c-325118abc25a.xml'.
2024-04-28 15:23:19.991 -04:00 [DBG] Found key {94a5b716-f00f-43b5-ac2c-325118abc25a}.
2024-04-28 15:23:19.994 -04:00 [DBG] Considering key {94a5b716-f00f-43b5-ac2c-325118abc25a} with expiration date 2024-07-17 02:44:31Z as default key.
2024-04-28 15:23:19.995 -04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-28 15:23:19.996 -04:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-04-28 15:23:19.996 -04:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-04-28 15:23:19.998 -04:00 [DBG] Using key {94a5b716-f00f-43b5-ac2c-325118abc25a} as the default key.
2024-04-28 15:23:19.998 -04:00 [DBG] Key ring with default key {94a5b716-f00f-43b5-ac2c-325118abc25a} was loaded during application startup.
2024-04-28 15:23:20.011 -04:00 [INF] Now listening on: http://localhost:5102
2024-04-28 15:23:20.011 -04:00 [DBG] Loaded hosting startup assembly WebServiceApp
2024-04-28 15:23:20.011 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-28 15:23:20.011 -04:00 [INF] Hosting environment: Development
2024-04-28 15:23:20.011 -04:00 [INF] Content root path: /Users/ulia/development/seir_seal/projects/CAPSTONE/BECapstone/WebServiceApp
2024-04-28 15:23:20.011 -04:00 [DBG] Hosting started
2024-04-28 15:23:20.246 -04:00 [DBG] Connection id "0HN37N2KUV353" received FIN.
2024-04-28 15:23:20.248 -04:00 [DBG] Connection id "0HN37N2KUV353" accepted.
2024-04-28 15:23:20.248 -04:00 [DBG] Connection id "0HN37N2KUV353" started.
2024-04-28 15:23:20.250 -04:00 [DBG] Connection id "0HN37N2KUV353" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-28 15:23:20.251 -04:00 [DBG] Connection id "0HN37N2KUV353" disconnecting.
2024-04-28 15:23:20.252 -04:00 [DBG] Connection id "0HN37N2KUV353" stopped.
2024-04-28 15:23:20.353 -04:00 [DBG] Connection id "0HN37N2KUV354" accepted.
2024-04-28 15:23:20.353 -04:00 [DBG] Connection id "0HN37N2KUV354" started.
2024-04-28 15:23:20.353 -04:00 [DBG] Connection id "0HN37N2KUV355" accepted.
2024-04-28 15:23:20.353 -04:00 [DBG] Connection id "0HN37N2KUV355" started.
2024-04-28 15:23:20.362 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5102/ - null null
2024-04-28 15:23:20.362 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-04-28 15:23:20.373 -04:00 [DBG] The request path  does not match the path filter
2024-04-28 15:23:20.373 -04:00 [WRN] Failed to determine the https port for redirect.
2024-04-28 15:23:20.386 -04:00 [DBG] No candidates found for the request path '/'
2024-04-28 15:23:20.386 -04:00 [DBG] Request did not match any endpoints
2024-04-28 15:23:20.410 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:23:20.411 -04:00 [DBG] Connection id "0HN37N2KUV354" completed keep alive response.
2024-04-28 15:23:20.411 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5102/ - 404 0 null 51.0985ms
2024-04-28 15:23:20.412 -04:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5102/, Response status code: 404
2024-04-28 15:23:43.310 -04:00 [DBG] Connection id "0HN37N2KUV356" received FIN.
2024-04-28 15:23:43.310 -04:00 [DBG] Connection id "0HN37N2KUV356" accepted.
2024-04-28 15:23:43.311 -04:00 [DBG] Connection id "0HN37N2KUV356" started.
2024-04-28 15:23:43.311 -04:00 [DBG] Connection id "0HN37N2KUV357" accepted.
2024-04-28 15:23:43.311 -04:00 [DBG] Connection id "0HN37N2KUV356" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-28 15:23:43.311 -04:00 [DBG] Connection id "0HN37N2KUV357" started.
2024-04-28 15:23:43.311 -04:00 [DBG] Connection id "0HN37N2KUV356" disconnecting.
2024-04-28 15:23:43.311 -04:00 [DBG] Connection id "0HN37N2KUV356" stopped.
2024-04-28 15:23:43.312 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5102/api/products - null null
2024-04-28 15:23:43.315 -04:00 [DBG] The request path  does not match the path filter
2024-04-28 15:23:43.320 -04:00 [DBG] 1 candidate(s) found for the request path '/api/products'
2024-04-28 15:23:43.323 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)' with route pattern 'api/products' is valid for the request path '/api/products'
2024-04-28 15:23:43.323 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:23:43.325 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:23:43.325 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:23:43.335 -04:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[WebServiceApp.Models.ProductDto]]] GetProducts() on controller WebServiceApp.Controllers.ProductController (WebServiceApp).
2024-04-28 15:23:43.335 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:23:43.336 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:23:43.336 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:23:43.336 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:23:43.336 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:23:43.336 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.ProductController (WebServiceApp)
2024-04-28 15:23:43.402 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.ProductController (WebServiceApp)
2024-04-28 15:23:43.404 -04:00 [INF] Executing action method WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:23:43.416 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:23:43.433 -04:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .OrderBy(c => c.Name)'
2024-04-28 15:23:43.535 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Product>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CreatedDate (DateTime?), 1], [Property: Product.Description (string) MaxLength(500), 2], [Property: Product.Image (string) MaxLength(500), 3], [Property: Product.Inventory (string) MaxLength(500), 4], [Property: Product.Name (string) Required MaxLength(50), 5], [Property: Product.Price (double?) MaxLength(500), 6], [Property: Product.Serial (string) MaxLength(500), 7], [Property: Product.UpdatedDate (DateTime?), 8] }
        SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
        FROM products AS p
        ORDER BY p.name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
    WebServiceApp.DbContext.StoreContext, 
    False, 
    False, 
    True
)'
2024-04-28 15:23:43.550 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:23:43.550 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:23:43.551 -04:00 [DBG] Opening connection to database 'MyStoreDB' on server 'tcp://localhost:5433'.
2024-04-28 15:23:43.552 -04:00 [DBG] Opened connection to database 'MyStoreDB' on server 'tcp://localhost:5433'.
2024-04-28 15:23:43.552 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:23:43.552 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:23:43.552 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:23:43.552 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
ORDER BY p.name
2024-04-28 15:23:43.559 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
ORDER BY p.name
2024-04-28 15:23:43.576 -04:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:23:43.587 -04:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:23:43.587 -04:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:23:43.587 -04:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:23:43.587 -04:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:23:43.587 -04:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:23:43.587 -04:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:23:43.587 -04:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:23:43.589 -04:00 [DBG] Closing data reader to 'MyStoreDB' on server 'tcp://localhost:5433'.
2024-04-28 15:23:43.589 -04:00 [DBG] A data reader for 'MyStoreDB' on server 'tcp://localhost:5433' is being disposed after spending 29ms reading results.
2024-04-28 15:23:43.590 -04:00 [DBG] Closing connection to database 'MyStoreDB' on server 'tcp://localhost:5433'.
2024-04-28 15:23:43.590 -04:00 [DBG] Closed connection to database 'MyStoreDB' on server 'tcp://localhost:5433' (0ms).
2024-04-28 15:23:43.598 -04:00 [INF] Executed action method WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 192.7206ms.
2024-04-28 15:23:43.600 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-04-28 15:23:43.601 -04:00 [DBG] No information found on request to perform content negotiation.
2024-04-28 15:23:43.601 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-28 15:23:43.601 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-28 15:23:43.602 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-28 15:23:43.602 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebServiceApp.Models.ProductDto, WebServiceApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-28 15:23:43.655 -04:00 [INF] Executed action WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp) in 317.7555ms
2024-04-28 15:23:43.656 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:23:43.658 -04:00 [DBG] Connection id "0HN37N2KUV357" completed keep alive response.
2024-04-28 15:23:43.659 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:23:43.660 -04:00 [DBG] Disposing connection to database 'MyStoreDB' on server 'tcp://localhost:5433'.
2024-04-28 15:23:43.661 -04:00 [DBG] Disposed connection to database 'MyStoreDB' on server 'tcp://localhost:5433' (0ms).
2024-04-28 15:23:43.661 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5102/api/products - 200 2395 application/json; charset=utf-8 349.359ms
2024-04-28 15:24:20.709 -04:00 [INF] Application is shutting down...
2024-04-28 15:24:20.710 -04:00 [DBG] Hosting stopping
2024-04-28 15:24:20.713 -04:00 [DBG] Connection id "0HN37N2KUV357" disconnecting.
2024-04-28 15:24:20.713 -04:00 [DBG] Connection id "0HN37N2KUV355" disconnecting.
2024-04-28 15:24:20.713 -04:00 [DBG] Connection id "0HN37N2KUV354" disconnecting.
2024-04-28 15:24:20.713 -04:00 [DBG] Connection id "0HN37N2KUV355" stopped.
2024-04-28 15:24:20.713 -04:00 [DBG] Connection id "0HN37N2KUV357" stopped.
2024-04-28 15:24:20.713 -04:00 [DBG] Connection id "0HN37N2KUV354" stopped.
2024-04-28 15:24:20.713 -04:00 [DBG] Connection id "0HN37N2KUV355" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-28 15:24:20.713 -04:00 [DBG] Connection id "0HN37N2KUV357" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-28 15:24:20.714 -04:00 [DBG] Connection id "0HN37N2KUV354" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-28 15:24:20.715 -04:00 [DBG] Hosting stopped
2024-04-28 15:26:42.521 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-04-28 15:26:42.878 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:26:42.883 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:26:42.896 -04:00 [DBG] Created DbConnection. (11ms).
2024-04-28 15:26:42.899 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:26:43.764 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:26:43.766 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:26:43.769 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (2ms).
2024-04-28 15:26:43.772 -04:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-28 15:26:43.774 -04:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2024-04-28 15:26:43.774 -04:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2024-04-28 15:26:43.774 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:26:45.137 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:26:45.140 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-04-28 15:26:45.296 -04:00 [INF] Executed DbCommand (155ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-04-28 15:26:45.297 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:26:45.298 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:26:45.299 -04:00 [DBG] Migrating using database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:26:45.299 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:26:46.158 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:26:46.158 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:26:46.159 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:26:46.159 -04:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-28 15:26:46.160 -04:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-28 15:26:46.160 -04:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-28 15:26:46.160 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:26:46.160 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:26:46.161 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-04-28 15:26:46.268 -04:00 [INF] Executed DbCommand (107ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-04-28 15:26:46.268 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:26:46.268 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:26:46.269 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:26:46.917 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:26:46.917 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:26:46.918 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:26:46.987 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-28 15:26:46.987 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-28 15:26:46.987 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-28 15:26:46.987 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:26:46.987 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:26:46.987 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2024-04-28 15:26:47.096 -04:00 [INF] Executed DbCommand (108ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2024-04-28 15:26:47.096 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:26:47.096 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:26:47.096 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:26:47.752 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:26:47.753 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:26:47.753 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:26:47.754 -04:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-04-28 15:26:47.754 -04:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-04-28 15:26:47.754 -04:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-04-28 15:26:47.754 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:26:47.754 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:26:47.754 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-04-28 15:26:47.876 -04:00 [INF] Executed DbCommand (121ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-04-28 15:26:47.876 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:26:47.877 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:26:47.881 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:26:47.882 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:26:47.882 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:26:47.882 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:26:47.882 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:26:47.883 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-04-28 15:26:47.988 -04:00 [INF] Executed DbCommand (105ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-04-28 15:26:47.991 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:26:47.991 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 2ms reading results.
2024-04-28 15:26:47.992 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:26:47.992 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:26:48.000 -04:00 [INF] Applying migration '20240427184304_initial'.
2024-04-28 15:26:48.024 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:26:48.024 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:26:48.026 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-04-28 15:26:48.027 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-04-28 15:26:48.027 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-28 15:26:48.027 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-28 15:26:48.027 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-28 15:26:48.028 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE customers (
    id integer GENERATED BY DEFAULT AS IDENTITY,
    firstname character varying(50) NOT NULL,
    lastname character varying(50) NOT NULL,
    dob date NOT NULL,
    addressone character varying(50),
    addresstwo character varying(50),
    city character varying(20),
    state character varying(2),
    zip character varying(5),
    createddate timestamp with time zone,
    updateddate timestamp with time zone,
    CONSTRAINT "PK_customers" PRIMARY KEY (id)
);
2024-04-28 15:26:48.128 -04:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE customers (
    id integer GENERATED BY DEFAULT AS IDENTITY,
    firstname character varying(50) NOT NULL,
    lastname character varying(50) NOT NULL,
    dob date NOT NULL,
    addressone character varying(50),
    addresstwo character varying(50),
    city character varying(20),
    state character varying(2),
    zip character varying(5),
    createddate timestamp with time zone,
    updateddate timestamp with time zone,
    CONSTRAINT "PK_customers" PRIMARY KEY (id)
);
2024-04-28 15:26:48.128 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-28 15:26:48.128 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-28 15:26:48.128 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-28 15:26:48.128 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE products (
    id integer GENERATED BY DEFAULT AS IDENTITY,
    name character varying(50) NOT NULL,
    description character varying(500),
    price double precision,
    image character varying(500),
    serial character varying(500),
    inventory character varying(500),
    createddate timestamp with time zone,
    updateddate timestamp with time zone,
    CONSTRAINT "PK_products" PRIMARY KEY (id)
);
2024-04-28 15:26:48.233 -04:00 [INF] Executed DbCommand (105ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE products (
    id integer GENERATED BY DEFAULT AS IDENTITY,
    name character varying(50) NOT NULL,
    description character varying(500),
    price double precision,
    image character varying(500),
    serial character varying(500),
    inventory character varying(500),
    createddate timestamp with time zone,
    updateddate timestamp with time zone,
    CONSTRAINT "PK_products" PRIMARY KEY (id)
);
2024-04-28 15:26:48.233 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-28 15:26:48.233 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-28 15:26:48.233 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-28 15:26:48.233 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE users (
    id integer GENERATED BY DEFAULT AS IDENTITY,
    username integer NOT NULL,
    password integer NOT NULL,
    customerid integer NOT NULL,
    createddate timestamp with time zone,
    updateddate timestamp with time zone,
    CONSTRAINT "PK_users" PRIMARY KEY (id),
    CONSTRAINT "FK_users_customers_customerid" FOREIGN KEY (customerid) REFERENCES customers (id) ON DELETE CASCADE
);
2024-04-28 15:26:48.345 -04:00 [INF] Executed DbCommand (112ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE users (
    id integer GENERATED BY DEFAULT AS IDENTITY,
    username integer NOT NULL,
    password integer NOT NULL,
    customerid integer NOT NULL,
    createddate timestamp with time zone,
    updateddate timestamp with time zone,
    CONSTRAINT "PK_users" PRIMARY KEY (id),
    CONSTRAINT "FK_users_customers_customerid" FOREIGN KEY (customerid) REFERENCES customers (id) ON DELETE CASCADE
);
2024-04-28 15:26:48.345 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-28 15:26:48.345 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-28 15:26:48.345 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-28 15:26:48.345 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE cart (
    id integer GENERATED BY DEFAULT AS IDENTITY,
    "customerId" integer NOT NULL,
    productid integer NOT NULL,
    totalamount double precision NOT NULL,
    quantity integer NOT NULL,
    "isProccesed" boolean NOT NULL,
    createddate timestamp with time zone,
    updateddate timestamp with time zone,
    CONSTRAINT "PK_cart" PRIMARY KEY (id),
    CONSTRAINT "FK_cart_customers_customerId" FOREIGN KEY ("customerId") REFERENCES customers (id) ON DELETE CASCADE,
    CONSTRAINT "FK_cart_products_productid" FOREIGN KEY (productid) REFERENCES products (id) ON DELETE CASCADE
);
2024-04-28 15:26:48.489 -04:00 [INF] Executed DbCommand (143ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE cart (
    id integer GENERATED BY DEFAULT AS IDENTITY,
    "customerId" integer NOT NULL,
    productid integer NOT NULL,
    totalamount double precision NOT NULL,
    quantity integer NOT NULL,
    "isProccesed" boolean NOT NULL,
    createddate timestamp with time zone,
    updateddate timestamp with time zone,
    CONSTRAINT "PK_cart" PRIMARY KEY (id),
    CONSTRAINT "FK_cart_customers_customerId" FOREIGN KEY ("customerId") REFERENCES customers (id) ON DELETE CASCADE,
    CONSTRAINT "FK_cart_products_productid" FOREIGN KEY (productid) REFERENCES products (id) ON DELETE CASCADE
);
2024-04-28 15:26:48.489 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-28 15:26:48.489 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-28 15:26:48.489 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-28 15:26:48.489 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE orders (
    id integer GENERATED BY DEFAULT AS IDENTITY,
    cartid integer NOT NULL,
    userid integer NOT NULL,
    orderstatus text NOT NULL,
    createddate timestamp with time zone,
    updateddate timestamp with time zone,
    CONSTRAINT "PK_orders" PRIMARY KEY (id),
    CONSTRAINT "FK_orders_cart_cartid" FOREIGN KEY (cartid) REFERENCES cart (id) ON DELETE CASCADE
);
2024-04-28 15:26:48.592 -04:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE orders (
    id integer GENERATED BY DEFAULT AS IDENTITY,
    cartid integer NOT NULL,
    userid integer NOT NULL,
    orderstatus text NOT NULL,
    createddate timestamp with time zone,
    updateddate timestamp with time zone,
    CONSTRAINT "PK_orders" PRIMARY KEY (id),
    CONSTRAINT "FK_orders_cart_cartid" FOREIGN KEY (cartid) REFERENCES cart (id) ON DELETE CASCADE
);
2024-04-28 15:26:48.592 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-28 15:26:48.592 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-28 15:26:48.592 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-28 15:26:48.592 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_cart_customerId" ON cart ("customerId");
2024-04-28 15:26:48.691 -04:00 [INF] Executed DbCommand (99ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_cart_customerId" ON cart ("customerId");
2024-04-28 15:26:48.691 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-28 15:26:48.691 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-28 15:26:48.691 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-28 15:26:48.691 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_cart_productid" ON cart (productid);
2024-04-28 15:26:48.790 -04:00 [INF] Executed DbCommand (99ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_cart_productid" ON cart (productid);
2024-04-28 15:26:48.791 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-28 15:26:48.791 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-28 15:26:48.791 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-28 15:26:48.791 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_orders_cartid" ON orders (cartid);
2024-04-28 15:26:48.958 -04:00 [INF] Executed DbCommand (167ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_orders_cartid" ON orders (cartid);
2024-04-28 15:26:48.959 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-28 15:26:48.959 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-28 15:26:48.959 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-28 15:26:48.959 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_users_customerid" ON users (customerid);
2024-04-28 15:26:49.072 -04:00 [INF] Executed DbCommand (113ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_users_customerid" ON users (customerid);
2024-04-28 15:26:49.073 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-28 15:26:49.073 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-28 15:26:49.073 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-28 15:26:49.073 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20240427184304_initial', '8.0.4');
2024-04-28 15:26:49.181 -04:00 [INF] Executed DbCommand (107ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20240427184304_initial', '8.0.4');
2024-04-28 15:26:49.183 -04:00 [DBG] Committing transaction.
2024-04-28 15:26:49.304 -04:00 [DBG] Committed transaction.
2024-04-28 15:26:49.306 -04:00 [DBG] Disposing transaction.
2024-04-28 15:26:49.306 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:26:49.307 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:26:49.307 -04:00 [INF] Applying migration '20240427184312_StoreDesc1'.
2024-04-28 15:26:49.318 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:26:49.318 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:26:49.318 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-04-28 15:26:49.318 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-04-28 15:26:49.318 -04:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-04-28 15:26:49.318 -04:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-28 15:26:49.318 -04:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-04-28 15:26:49.318 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20240427184312_StoreDesc1', '8.0.4');
2024-04-28 15:26:49.418 -04:00 [INF] Executed DbCommand (99ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20240427184312_StoreDesc1', '8.0.4');
2024-04-28 15:26:49.419 -04:00 [DBG] Committing transaction.
2024-04-28 15:26:49.522 -04:00 [DBG] Committed transaction.
2024-04-28 15:26:49.522 -04:00 [DBG] Disposing transaction.
2024-04-28 15:26:49.522 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:26:49.522 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:26:49.525 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:26:49.526 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:26:49.526 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:26:49.550 -04:00 [DBG] Initializing Razor view compiler with no compiled views.
2024-04-28 15:26:49.554 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-04-28 15:26:49.558 -04:00 [INF] User profile is available. Using '/Users/ulia/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-04-28 15:26:49.574 -04:00 [DBG] Hosting starting
2024-04-28 15:26:49.577 -04:00 [DBG] Reading data from file '/Users/ulia/.aspnet/DataProtection-Keys/key-94a5b716-f00f-43b5-ac2c-325118abc25a.xml'.
2024-04-28 15:26:49.579 -04:00 [DBG] Found key {94a5b716-f00f-43b5-ac2c-325118abc25a}.
2024-04-28 15:26:49.582 -04:00 [DBG] Considering key {94a5b716-f00f-43b5-ac2c-325118abc25a} with expiration date 2024-07-17 02:44:31Z as default key.
2024-04-28 15:26:49.582 -04:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-04-28 15:26:49.583 -04:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-04-28 15:26:49.583 -04:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-04-28 15:26:49.584 -04:00 [DBG] Using key {94a5b716-f00f-43b5-ac2c-325118abc25a} as the default key.
2024-04-28 15:26:49.584 -04:00 [DBG] Key ring with default key {94a5b716-f00f-43b5-ac2c-325118abc25a} was loaded during application startup.
2024-04-28 15:26:49.596 -04:00 [INF] Now listening on: http://localhost:5102
2024-04-28 15:26:49.596 -04:00 [DBG] Loaded hosting startup assembly WebServiceApp
2024-04-28 15:26:49.596 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-28 15:26:49.596 -04:00 [INF] Hosting environment: Development
2024-04-28 15:26:49.596 -04:00 [INF] Content root path: /Users/ulia/development/seir_seal/projects/CAPSTONE/BECapstone/WebServiceApp
2024-04-28 15:26:49.596 -04:00 [DBG] Hosting started
2024-04-28 15:26:53.083 -04:00 [DBG] Connection id "0HN37N4KCNRB9" accepted.
2024-04-28 15:26:53.083 -04:00 [DBG] Connection id "0HN37N4KCNRBA" accepted.
2024-04-28 15:26:53.083 -04:00 [DBG] Connection id "0HN37N4KCNRBA" started.
2024-04-28 15:26:53.083 -04:00 [DBG] Connection id "0HN37N4KCNRB9" started.
2024-04-28 15:26:53.094 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5102/ - null null
2024-04-28 15:26:53.095 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-04-28 15:26:53.103 -04:00 [DBG] The request path  does not match the path filter
2024-04-28 15:26:53.104 -04:00 [WRN] Failed to determine the https port for redirect.
2024-04-28 15:26:53.112 -04:00 [DBG] No candidates found for the request path '/'
2024-04-28 15:26:53.112 -04:00 [DBG] Request did not match any endpoints
2024-04-28 15:26:53.129 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:26:53.130 -04:00 [DBG] Connection id "0HN37N4KCNRB9" completed keep alive response.
2024-04-28 15:26:53.130 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5102/ - 404 0 null 38.2251ms
2024-04-28 15:26:53.131 -04:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5102/, Response status code: 404
2024-04-28 15:26:59.950 -04:00 [DBG] Connection id "0HN37N4KCNRBB" received FIN.
2024-04-28 15:26:59.951 -04:00 [DBG] Connection id "0HN37N4KCNRBB" accepted.
2024-04-28 15:26:59.952 -04:00 [DBG] Connection id "0HN37N4KCNRBC" accepted.
2024-04-28 15:26:59.952 -04:00 [DBG] Connection id "0HN37N4KCNRBB" started.
2024-04-28 15:26:59.952 -04:00 [DBG] Connection id "0HN37N4KCNRBB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-28 15:26:59.952 -04:00 [DBG] Connection id "0HN37N4KCNRBB" disconnecting.
2024-04-28 15:26:59.953 -04:00 [DBG] Connection id "0HN37N4KCNRBC" started.
2024-04-28 15:26:59.953 -04:00 [DBG] Connection id "0HN37N4KCNRBB" stopped.
2024-04-28 15:26:59.953 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5102/api/products - null null
2024-04-28 15:26:59.956 -04:00 [DBG] The request path  does not match the path filter
2024-04-28 15:26:59.959 -04:00 [DBG] 1 candidate(s) found for the request path '/api/products'
2024-04-28 15:26:59.960 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)' with route pattern 'api/products' is valid for the request path '/api/products'
2024-04-28 15:26:59.960 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:26:59.961 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:26:59.961 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:26:59.971 -04:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[WebServiceApp.Models.ProductDto]]] GetProducts() on controller WebServiceApp.Controllers.ProductController (WebServiceApp).
2024-04-28 15:26:59.972 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:26:59.972 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:26:59.972 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:26:59.972 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:26:59.972 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:26:59.973 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.ProductController (WebServiceApp)
2024-04-28 15:27:00.047 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.ProductController (WebServiceApp)
2024-04-28 15:27:00.049 -04:00 [INF] Executing action method WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:27:00.063 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:27:00.080 -04:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .OrderBy(c => c.Name)'
2024-04-28 15:27:00.188 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Product>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CreatedDate (DateTime?), 1], [Property: Product.Description (string) MaxLength(500), 2], [Property: Product.Image (string) MaxLength(500), 3], [Property: Product.Inventory (string) MaxLength(500), 4], [Property: Product.Name (string) Required MaxLength(50), 5], [Property: Product.Price (double?) MaxLength(500), 6], [Property: Product.Serial (string) MaxLength(500), 7], [Property: Product.UpdatedDate (DateTime?), 8] }
        SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
        FROM products AS p
        ORDER BY p.name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
    WebServiceApp.DbContext.StoreContext, 
    False, 
    False, 
    True
)'
2024-04-28 15:27:00.203 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:27:00.203 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:27:00.204 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:27:00.205 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:27:00.205 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:27:00.205 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:27:00.205 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:27:00.205 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
ORDER BY p.name
2024-04-28 15:27:00.322 -04:00 [INF] Executed DbCommand (117ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
ORDER BY p.name
2024-04-28 15:27:00.326 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:27:00.327 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 4ms reading results.
2024-04-28 15:27:00.328 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:27:00.328 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:27:00.341 -04:00 [INF] Executed action method WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 289.737ms.
2024-04-28 15:27:00.344 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-04-28 15:27:00.346 -04:00 [DBG] No information found on request to perform content negotiation.
2024-04-28 15:27:00.346 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-28 15:27:00.346 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-28 15:27:00.346 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-28 15:27:00.346 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebServiceApp.Models.ProductDto, WebServiceApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-28 15:27:00.404 -04:00 [INF] Executed action WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp) in 430.0969ms
2024-04-28 15:27:00.405 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:27:00.408 -04:00 [DBG] Connection id "0HN37N4KCNRBC" completed keep alive response.
2024-04-28 15:27:00.409 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:27:00.411 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:27:00.411 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:27:00.412 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5102/api/products - 200 2 application/json; charset=utf-8 458.5515ms
2024-04-28 15:28:10.004 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5102/api/products - application/json 250
2024-04-28 15:28:10.007 -04:00 [DBG] POST requests are not supported
2024-04-28 15:28:10.008 -04:00 [DBG] 1 candidate(s) found for the request path '/api/products'
2024-04-28 15:28:10.008 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.ProductController.CreateProduct (WebServiceApp)' with route pattern 'api/products' is valid for the request path '/api/products'
2024-04-28 15:28:10.009 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.ProductController.CreateProduct (WebServiceApp)'
2024-04-28 15:28:10.038 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '4/24/2024 3:39:31 AM', Current time (UTC): '4/28/2024 7:28:10 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-04-28 15:28:10.044 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '4/24/2024 3:39:31 AM', Current time (UTC): '4/28/2024 7:28:10 PM'.
2024-04-28 15:28:10.045 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.ProductController.CreateProduct (WebServiceApp)'
2024-04-28 15:28:10.050 -04:00 [INF] Route matched with {action = "CreateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebServiceApp.Models.ProductDto]] CreateProduct(WebServiceApp.Models.ProductCreate) on controller WebServiceApp.Controllers.ProductController (WebServiceApp).
2024-04-28 15:28:10.050 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:28:10.050 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:28:10.050 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:28:10.050 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:28:10.050 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:28:10.051 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.ProductController (WebServiceApp)
2024-04-28 15:28:10.051 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.ProductController (WebServiceApp)
2024-04-28 15:28:10.053 -04:00 [DBG] Attempting to bind parameter 'productCreate' of type 'WebServiceApp.Models.ProductCreate' ...
2024-04-28 15:28:10.053 -04:00 [DBG] Attempting to bind parameter 'productCreate' of type 'WebServiceApp.Models.ProductCreate' using the name '' in request data ...
2024-04-28 15:28:10.054 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-04-28 15:28:10.054 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-04-28 15:28:10.056 -04:00 [DBG] Connection id "0HN37N4KCNRBC", Request id "0HN37N4KCNRBC:00000002": started reading request body.
2024-04-28 15:28:10.056 -04:00 [DBG] Connection id "0HN37N4KCNRBC", Request id "0HN37N4KCNRBC:00000002": done reading request body.
2024-04-28 15:28:10.074 -04:00 [DBG] Done attempting to bind parameter 'productCreate' of type 'WebServiceApp.Models.ProductCreate'.
2024-04-28 15:28:10.074 -04:00 [DBG] Done attempting to bind parameter 'productCreate' of type 'WebServiceApp.Models.ProductCreate'.
2024-04-28 15:28:10.074 -04:00 [DBG] Attempting to validate the bound parameter 'productCreate' of type 'WebServiceApp.Models.ProductCreate' ...
2024-04-28 15:28:10.077 -04:00 [DBG] Done attempting to validate the bound parameter 'productCreate' of type 'WebServiceApp.Models.ProductCreate'.
2024-04-28 15:28:10.078 -04:00 [INF] Executing action method WebServiceApp.Controllers.ProductController.CreateProduct (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:28:10.102 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:28:10.117 -04:00 [DBG] 'StoreContext' generated a temporary value for the property 'Product.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:28:10.145 -04:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:28:10.147 -04:00 [DBG] DetectChanges starting for 'StoreContext'.
2024-04-28 15:28:10.154 -04:00 [DBG] DetectChanges completed for 'StoreContext'.
2024-04-28 15:28:10.156 -04:00 [DBG] SaveChanges starting for 'StoreContext'.
2024-04-28 15:28:10.157 -04:00 [DBG] DetectChanges starting for 'StoreContext'.
2024-04-28 15:28:10.157 -04:00 [DBG] The unchanged property 'Product.CreatedDate' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-04-28 15:28:10.158 -04:00 [DBG] DetectChanges completed for 'StoreContext'.
2024-04-28 15:28:10.190 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:28:10.190 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:28:10.190 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:28:10.190 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:28:10.191 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:28:10.191 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:28:10.194 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-04-28 15:28:10.196 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Double), @p6='?', @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO products (createddate, description, image, inventory, name, price, serial, updateddate)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2024-04-28 15:28:10.317 -04:00 [INF] Executed DbCommand (123ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Double), @p6='?', @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO products (createddate, description, image, inventory, name, price, serial, updateddate)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING id;
2024-04-28 15:28:10.327 -04:00 [DBG] The foreign key property 'Product.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-04-28 15:28:10.330 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:28:10.330 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 12ms reading results.
2024-04-28 15:28:10.331 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:28:10.331 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:28:10.338 -04:00 [DBG] An entity of type 'Product' tracked by 'StoreContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:28:10.340 -04:00 [DBG] SaveChanges completed for 'StoreContext' with 1 entities written to the database.
2024-04-28 15:28:10.346 -04:00 [INF] Executed action method WebServiceApp.Controllers.ProductController.CreateProduct (WebServiceApp), returned result Microsoft.AspNetCore.Mvc.CreatedAtRouteResult in 268.1351ms.
2024-04-28 15:28:10.347 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-04-28 15:28:10.347 -04:00 [DBG] No information found on request to perform content negotiation.
2024-04-28 15:28:10.347 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-28 15:28:10.347 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-28 15:28:10.347 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-28 15:28:10.347 -04:00 [INF] Executing CreatedAtRouteResult, writing value of type 'WebServiceApp.Models.ProductDto'.
2024-04-28 15:28:10.359 -04:00 [DBG] Found the endpoints ["WebServiceApp.Controllers.ProductController.GetProduct (WebServiceApp)"] for address GetProduct(id=[1])
2024-04-28 15:28:10.361 -04:00 [DBG] Successfully processed template api/products/{id:int} for WebServiceApp.Controllers.ProductController.GetProduct (WebServiceApp) resulting in /api/products/1 and 
2024-04-28 15:28:10.361 -04:00 [DBG] Link generation succeeded for endpoints ["WebServiceApp.Controllers.ProductController.GetProduct (WebServiceApp)"] with result /api/products/1
2024-04-28 15:28:10.371 -04:00 [INF] Executed action WebServiceApp.Controllers.ProductController.CreateProduct (WebServiceApp) in 320.6169ms
2024-04-28 15:28:10.371 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.ProductController.CreateProduct (WebServiceApp)'
2024-04-28 15:28:10.371 -04:00 [DBG] Connection id "0HN37N4KCNRBC" completed keep alive response.
2024-04-28 15:28:10.371 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:28:10.371 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:28:10.371 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:28:10.371 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5102/api/products - 201 326 application/json; charset=utf-8 367.872ms
2024-04-28 15:28:37.021 -04:00 [DBG] Connection id "0HN37N4KCNRBA" received FIN.
2024-04-28 15:28:37.022 -04:00 [DBG] Connection id "0HN37N4KCNRBA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-28 15:28:37.022 -04:00 [DBG] Connection id "0HN37N4KCNRBA" disconnecting.
2024-04-28 15:28:37.024 -04:00 [DBG] Connection id "0HN37N4KCNRBA" stopped.
2024-04-28 15:28:53.974 -04:00 [DBG] Connection id "0HN37N4KCNRBD" accepted.
2024-04-28 15:28:53.975 -04:00 [DBG] Connection id "0HN37N4KCNRBD" started.
2024-04-28 15:28:53.976 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5102/api/products - null null
2024-04-28 15:28:53.976 -04:00 [DBG] The request path  does not match the path filter
2024-04-28 15:28:53.977 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:28:53.977 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:28:53.977 -04:00 [DBG] 1 candidate(s) found for the request path '/api/products'
2024-04-28 15:28:53.977 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)' with route pattern 'api/products' is valid for the request path '/api/products'
2024-04-28 15:28:53.977 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:28:53.977 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:28:53.978 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:28:53.978 -04:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[WebServiceApp.Models.ProductDto]]] GetProducts() on controller WebServiceApp.Controllers.ProductController (WebServiceApp).
2024-04-28 15:28:53.978 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:28:53.978 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:28:53.978 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:28:53.978 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:28:53.978 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:28:53.979 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.ProductController (WebServiceApp)
2024-04-28 15:28:53.981 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.ProductController (WebServiceApp)
2024-04-28 15:28:53.981 -04:00 [INF] Executing action method WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:28:53.982 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:28:53.987 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:28:53.987 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:28:53.987 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:28:53.987 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:28:53.987 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:28:53.987 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:28:53.987 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:28:53.987 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
ORDER BY p.name
2024-04-28 15:28:54.106 -04:00 [INF] Executed DbCommand (119ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
ORDER BY p.name
2024-04-28 15:28:54.111 -04:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:28:54.112 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:28:54.112 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 5ms reading results.
2024-04-28 15:28:54.112 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:28:54.112 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:28:54.112 -04:00 [INF] Executed action method WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 130.8245ms.
2024-04-28 15:28:54.113 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-04-28 15:28:54.113 -04:00 [DBG] No information found on request to perform content negotiation.
2024-04-28 15:28:54.113 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-28 15:28:54.113 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-28 15:28:54.113 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-28 15:28:54.113 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebServiceApp.Models.ProductDto, WebServiceApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-28 15:28:54.114 -04:00 [INF] Executed action WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp) in 135.9824ms
2024-04-28 15:28:54.115 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:28:54.115 -04:00 [DBG] Connection id "0HN37N4KCNRBD" completed keep alive response.
2024-04-28 15:28:54.115 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:28:54.115 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:28:54.115 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:28:54.115 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5102/api/products - 200 328 application/json; charset=utf-8 139.5185ms
2024-04-28 15:28:59.393 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5102/api/products/1 - null null
2024-04-28 15:28:59.394 -04:00 [DBG] The request path  does not match the path filter
2024-04-28 15:28:59.394 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:28:59.394 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:28:59.394 -04:00 [DBG] 1 candidate(s) found for the request path '/api/products/1'
2024-04-28 15:28:59.394 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.ProductController.GetProduct (WebServiceApp)' with route pattern 'api/products/{id:int}' is valid for the request path '/api/products/1'
2024-04-28 15:28:59.394 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.ProductController.GetProduct (WebServiceApp)'
2024-04-28 15:28:59.395 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:28:59.395 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.ProductController.GetProduct (WebServiceApp)'
2024-04-28 15:28:59.399 -04:00 [INF] Route matched with {action = "GetProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProduct(Int32) on controller WebServiceApp.Controllers.ProductController (WebServiceApp).
2024-04-28 15:28:59.399 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:28:59.399 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:28:59.399 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:28:59.399 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:28:59.399 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:28:59.399 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.ProductController (WebServiceApp)
2024-04-28 15:28:59.400 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.ProductController (WebServiceApp)
2024-04-28 15:28:59.400 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-04-28 15:28:59.401 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-04-28 15:28:59.401 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-04-28 15:28:59.401 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-04-28 15:28:59.401 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-04-28 15:28:59.401 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-04-28 15:28:59.402 -04:00 [INF] Executing action method WebServiceApp.Controllers.ProductController.GetProduct (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:28:59.405 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:28:59.408 -04:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Any(c => c.Id == __productId_0)'
2024-04-28 15:28:59.426 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM products AS p
                WHERE p.id == @__productId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        WebServiceApp.DbContext.StoreContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-28 15:28:59.434 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:28:59.434 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:28:59.434 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:28:59.434 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:28:59.434 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:28:59.434 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:28:59.434 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:28:59.434 -04:00 [DBG] Executing DbCommand [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM products AS p
    WHERE p.id = @__productId_0)
2024-04-28 15:28:59.565 -04:00 [INF] Executed DbCommand (131ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM products AS p
    WHERE p.id = @__productId_0)
2024-04-28 15:28:59.568 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:28:59.568 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 2ms reading results.
2024-04-28 15:28:59.568 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:28:59.568 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:28:59.569 -04:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Where(c => c.Id == __productId_0)
    .FirstOrDefault()'
2024-04-28 15:28:59.574 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CreatedDate (DateTime?), 1], [Property: Product.Description (string) MaxLength(500), 2], [Property: Product.Image (string) MaxLength(500), 3], [Property: Product.Inventory (string) MaxLength(500), 4], [Property: Product.Name (string) Required MaxLength(50), 5], [Property: Product.Price (double?) MaxLength(500), 6], [Property: Product.Serial (string) MaxLength(500), 7], [Property: Product.UpdatedDate (DateTime?), 8] }
            SELECT TOP(1) p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
            FROM products AS p
            WHERE p.id == @__productId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        WebServiceApp.DbContext.StoreContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-04-28 15:28:59.576 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:28:59.576 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:28:59.576 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:28:59.576 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:28:59.576 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:28:59.576 -04:00 [DBG] Executing DbCommand [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
WHERE p.id = @__productId_0
LIMIT 1
2024-04-28 15:28:59.687 -04:00 [INF] Executed DbCommand (111ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
WHERE p.id = @__productId_0
LIMIT 1
2024-04-28 15:28:59.688 -04:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:28:59.688 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:28:59.688 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 0ms reading results.
2024-04-28 15:28:59.688 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:28:59.689 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:28:59.689 -04:00 [INF] Executed action method WebServiceApp.Controllers.ProductController.GetProduct (WebServiceApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 287.3843ms.
2024-04-28 15:28:59.689 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-04-28 15:28:59.689 -04:00 [DBG] No information found on request to perform content negotiation.
2024-04-28 15:28:59.689 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-28 15:28:59.689 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-28 15:28:59.689 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-28 15:28:59.689 -04:00 [INF] Executing OkObjectResult, writing value of type 'WebServiceApp.Models.ProductDto'.
2024-04-28 15:28:59.689 -04:00 [INF] Executed action WebServiceApp.Controllers.ProductController.GetProduct (WebServiceApp) in 290.0251ms
2024-04-28 15:28:59.690 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.ProductController.GetProduct (WebServiceApp)'
2024-04-28 15:28:59.690 -04:00 [DBG] Connection id "0HN37N4KCNRBD" completed keep alive response.
2024-04-28 15:28:59.690 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:28:59.690 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:28:59.690 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:28:59.690 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5102/api/products/1 - 200 326 application/json; charset=utf-8 296.8049ms
2024-04-28 15:29:03.363 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5102/api/order/user/4 - null null
2024-04-28 15:29:03.363 -04:00 [DBG] The request path  does not match the path filter
2024-04-28 15:29:03.363 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:29:03.364 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:29:03.364 -04:00 [DBG] 1 candidate(s) found for the request path '/api/order/user/4'
2024-04-28 15:29:03.365 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.OrderController.GetOrders (WebServiceApp)' with route pattern 'api/order/user/{userId:int}' is valid for the request path '/api/order/user/4'
2024-04-28 15:29:03.365 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.OrderController.GetOrders (WebServiceApp)'
2024-04-28 15:29:03.365 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:29:03.365 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.OrderController.GetOrders (WebServiceApp)'
2024-04-28 15:29:03.370 -04:00 [INF] Route matched with {action = "GetOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[WebServiceApp.Models.OrderDto]]] GetOrders(Int32) on controller WebServiceApp.Controllers.OrderController (WebServiceApp).
2024-04-28 15:29:03.370 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:29:03.370 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:29:03.371 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:29:03.371 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:29:03.371 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:29:03.371 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.OrderController (WebServiceApp)
2024-04-28 15:29:03.371 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.OrderController (WebServiceApp)
2024-04-28 15:29:03.372 -04:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2024-04-28 15:29:03.372 -04:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2024-04-28 15:29:03.372 -04:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2024-04-28 15:29:03.372 -04:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2024-04-28 15:29:03.372 -04:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2024-04-28 15:29:03.372 -04:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2024-04-28 15:29:03.372 -04:00 [INF] Executing action method WebServiceApp.Controllers.OrderController.GetOrders (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:29:03.375 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:29:03.376 -04:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Where(c => c.UserId == __userid_0)'
2024-04-28 15:29:03.378 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Order>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Order.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Order.CartId (int) Required FK Index, 1], [Property: Order.CreatedDate (DateTime?), 2], [Property: Order.OrderStatus (string) Required, 3], [Property: Order.UpdatedDate (DateTime?), 4], [Property: Order.UserId (int) Required, 5] }
        SELECT o.id, o.cartid, o.createddate, o.orderstatus, o.updateddate, o.userid
        FROM orders AS o
        WHERE o.userid == @__userid_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Order>, 
    WebServiceApp.DbContext.StoreContext, 
    False, 
    False, 
    True
)'
2024-04-28 15:29:03.378 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:29:03.378 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:29:03.378 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:03.378 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:03.378 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:03.378 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:03.378 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:03.378 -04:00 [DBG] Executing DbCommand [Parameters=[@__userid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT o.id, o.cartid, o.createddate, o.orderstatus, o.updateddate, o.userid
FROM orders AS o
WHERE o.userid = @__userid_0
2024-04-28 15:29:03.481 -04:00 [INF] Executed DbCommand (102ms) [Parameters=[@__userid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT o.id, o.cartid, o.createddate, o.orderstatus, o.updateddate, o.userid
FROM orders AS o
WHERE o.userid = @__userid_0
2024-04-28 15:29:03.481 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:03.482 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 0ms reading results.
2024-04-28 15:29:03.482 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:03.482 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:03.486 -04:00 [INF] Executed action method WebServiceApp.Controllers.OrderController.GetOrders (WebServiceApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 113.7828ms.
2024-04-28 15:29:03.487 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-04-28 15:29:03.487 -04:00 [DBG] No information found on request to perform content negotiation.
2024-04-28 15:29:03.487 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-28 15:29:03.487 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-28 15:29:03.487 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-28 15:29:03.487 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebServiceApp.Models.OrderDto, WebServiceApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-28 15:29:03.488 -04:00 [INF] Executed action WebServiceApp.Controllers.OrderController.GetOrders (WebServiceApp) in 116.7672ms
2024-04-28 15:29:03.488 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.OrderController.GetOrders (WebServiceApp)'
2024-04-28 15:29:03.488 -04:00 [DBG] Connection id "0HN37N4KCNRBD" completed keep alive response.
2024-04-28 15:29:03.488 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:29:03.488 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:03.488 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:03.488 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5102/api/order/user/4 - 200 2 application/json; charset=utf-8 125.5265ms
2024-04-28 15:29:04.360 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5102/api/products - null null
2024-04-28 15:29:04.361 -04:00 [DBG] The request path  does not match the path filter
2024-04-28 15:29:04.361 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:29:04.361 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:29:04.361 -04:00 [DBG] 1 candidate(s) found for the request path '/api/products'
2024-04-28 15:29:04.361 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)' with route pattern 'api/products' is valid for the request path '/api/products'
2024-04-28 15:29:04.361 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:29:04.361 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:29:04.361 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:29:04.362 -04:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[WebServiceApp.Models.ProductDto]]] GetProducts() on controller WebServiceApp.Controllers.ProductController (WebServiceApp).
2024-04-28 15:29:04.362 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:29:04.363 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:29:04.363 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:29:04.363 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:29:04.363 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:29:04.363 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.ProductController (WebServiceApp)
2024-04-28 15:29:04.364 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.ProductController (WebServiceApp)
2024-04-28 15:29:04.364 -04:00 [INF] Executing action method WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:29:04.365 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:29:04.365 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:29:04.365 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:29:04.365 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:04.366 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:04.367 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:04.367 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:04.367 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:04.367 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
ORDER BY p.name
2024-04-28 15:29:04.488 -04:00 [INF] Executed DbCommand (120ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
ORDER BY p.name
2024-04-28 15:29:04.488 -04:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:04.489 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:04.489 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 0ms reading results.
2024-04-28 15:29:04.489 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:04.490 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:04.490 -04:00 [INF] Executed action method WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 126.1894ms.
2024-04-28 15:29:04.491 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-04-28 15:29:04.491 -04:00 [DBG] No information found on request to perform content negotiation.
2024-04-28 15:29:04.491 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-28 15:29:04.492 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-28 15:29:04.492 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-28 15:29:04.492 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebServiceApp.Models.ProductDto, WebServiceApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-28 15:29:04.493 -04:00 [INF] Executed action WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp) in 129.2562ms
2024-04-28 15:29:04.493 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:29:04.493 -04:00 [DBG] Connection id "0HN37N4KCNRBD" completed keep alive response.
2024-04-28 15:29:04.493 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:29:04.493 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:04.493 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:04.494 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5102/api/products - 200 328 application/json; charset=utf-8 133.4821ms
2024-04-28 15:29:04.494 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5102/api/cart/4 - null null
2024-04-28 15:29:04.495 -04:00 [DBG] The request path  does not match the path filter
2024-04-28 15:29:04.495 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:29:04.495 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:29:04.495 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cart/4'
2024-04-28 15:29:04.495 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp)' with route pattern 'api/cart/{customerId:int}' is valid for the request path '/api/cart/4'
2024-04-28 15:29:04.495 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp)'
2024-04-28 15:29:04.495 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:29:04.495 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp)'
2024-04-28 15:29:04.499 -04:00 [INF] Route matched with {action = "GetCustomerCartItems", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[WebServiceApp.Models.CartDto]]] GetCustomerCartItems(Int32) on controller WebServiceApp.Controllers.CartController (WebServiceApp).
2024-04-28 15:29:04.499 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:29:04.499 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:29:04.499 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:29:04.499 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:29:04.499 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:29:04.499 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:04.500 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:04.500 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:04.500 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2024-04-28 15:29:04.500 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:04.500 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:04.500 -04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:04.500 -04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:04.500 -04:00 [INF] Executing action method WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:29:04.502 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:29:04.503 -04:00 [DBG] Compiling query expression: 
'DbSet<Cart>()
    .Where(c => c.CustomerId == __customerId_0)'
2024-04-28 15:29:04.505 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Cart>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Cart.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Cart.CreatedDate (DateTime?), 1], [Property: Cart.CustomerId (int) Required FK Index, 2], [Property: Cart.IsProccesed (bool) Required, 3], [Property: Cart.ProductId (int) Required FK Index, 4], [Property: Cart.Quantity (int) Required, 5], [Property: Cart.TotalAmount (double) Required, 6], [Property: Cart.UpdatedDate (DateTime?), 7] }
        SELECT c.id, c.createddate, c.customerId, c.isProccesed, c.productid, c.quantity, c.totalamount, c.updateddate
        FROM cart AS c
        WHERE c.customerId == @__customerId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Cart>, 
    WebServiceApp.DbContext.StoreContext, 
    False, 
    False, 
    True
)'
2024-04-28 15:29:04.505 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:29:04.505 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:29:04.505 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:04.506 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:04.506 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:04.506 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:04.506 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:04.506 -04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.createddate, c."customerId", c."isProccesed", c.productid, c.quantity, c.totalamount, c.updateddate
FROM cart AS c
WHERE c."customerId" = @__customerId_0
2024-04-28 15:29:04.606 -04:00 [INF] Executed DbCommand (100ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.createddate, c."customerId", c."isProccesed", c.productid, c.quantity, c.totalamount, c.updateddate
FROM cart AS c
WHERE c."customerId" = @__customerId_0
2024-04-28 15:29:04.607 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:04.607 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 0ms reading results.
2024-04-28 15:29:04.608 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:04.608 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:04.612 -04:00 [INF] Executed action method WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 112.0296ms.
2024-04-28 15:29:04.613 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-04-28 15:29:04.613 -04:00 [DBG] No information found on request to perform content negotiation.
2024-04-28 15:29:04.613 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-28 15:29:04.613 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-28 15:29:04.613 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-28 15:29:04.613 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebServiceApp.Models.CartDto, WebServiceApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-28 15:29:04.615 -04:00 [INF] Executed action WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp) in 115.3797ms
2024-04-28 15:29:04.615 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp)'
2024-04-28 15:29:04.615 -04:00 [DBG] Connection id "0HN37N4KCNRBD" completed keep alive response.
2024-04-28 15:29:04.615 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:29:04.615 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:04.615 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:04.616 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5102/api/cart/4 - 200 2 application/json; charset=utf-8 121.6218ms
2024-04-28 15:29:04.727 -04:00 [DBG] Connection id "0HN37N4KCNRB9" disconnecting.
2024-04-28 15:29:04.727 -04:00 [DBG] Connection id "0HN37N4KCNRB9" stopped.
2024-04-28 15:29:04.727 -04:00 [DBG] Connection id "0HN37N4KCNRB9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-28 15:29:06.175 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5102/api/cart/4 - null null
2024-04-28 15:29:06.175 -04:00 [DBG] OPTIONS requests are not supported
2024-04-28 15:29:06.175 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:29:06.175 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:29:06.176 -04:00 [DBG] The request is a preflight request.
2024-04-28 15:29:06.177 -04:00 [DBG] Connection id "0HN37N4KCNRBD" completed keep alive response.
2024-04-28 15:29:06.177 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5102/api/cart/4 - 204 null null 3.0197ms
2024-04-28 15:29:06.178 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5102/api/cart/4 - application/json 52
2024-04-28 15:29:06.178 -04:00 [DBG] POST requests are not supported
2024-04-28 15:29:06.178 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:29:06.178 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:29:06.179 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cart/4'
2024-04-28 15:29:06.179 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)' with route pattern 'api/cart/{customerId:int}' is valid for the request path '/api/cart/4'
2024-04-28 15:29:06.179 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)'
2024-04-28 15:29:06.179 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:29:06.179 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)'
2024-04-28 15:29:06.184 -04:00 [INF] Route matched with {action = "AddCustomerCartItem", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebServiceApp.Models.CartDto]] AddCustomerCartItem(Int32, WebServiceApp.Models.CartCreate) on controller WebServiceApp.Controllers.CartController (WebServiceApp).
2024-04-28 15:29:06.184 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:29:06.185 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:29:06.185 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:29:06.185 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:29:06.185 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:29:06.185 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:06.185 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:06.185 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:06.186 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2024-04-28 15:29:06.186 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:06.186 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:06.186 -04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:06.186 -04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:06.186 -04:00 [DBG] Attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate' ...
2024-04-28 15:29:06.186 -04:00 [DBG] Attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate' using the name '' in request data ...
2024-04-28 15:29:06.186 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-04-28 15:29:06.186 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-04-28 15:29:06.186 -04:00 [DBG] Connection id "0HN37N4KCNRBD", Request id "0HN37N4KCNRBD:00000007": started reading request body.
2024-04-28 15:29:06.186 -04:00 [DBG] Connection id "0HN37N4KCNRBD", Request id "0HN37N4KCNRBD:00000007": done reading request body.
2024-04-28 15:29:06.191 -04:00 [DBG] Done attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate'.
2024-04-28 15:29:06.191 -04:00 [DBG] Done attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate'.
2024-04-28 15:29:06.191 -04:00 [DBG] Attempting to validate the bound parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate' ...
2024-04-28 15:29:06.192 -04:00 [DBG] Done attempting to validate the bound parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate'.
2024-04-28 15:29:06.192 -04:00 [INF] Executing action method WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:29:06.194 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:29:06.194 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:29:06.194 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:29:06.194 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:06.194 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:06.195 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:06.195 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:06.195 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:06.195 -04:00 [DBG] Executing DbCommand [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
WHERE p.id = @__productId_0
LIMIT 1
2024-04-28 15:29:06.307 -04:00 [INF] Executed DbCommand (113ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
WHERE p.id = @__productId_0
LIMIT 1
2024-04-28 15:29:06.308 -04:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:06.308 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:06.308 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 0ms reading results.
2024-04-28 15:29:06.308 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:06.308 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:06.311 -04:00 [DBG] 'StoreContext' generated a temporary value for the property 'Cart.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:06.321 -04:00 [DBG] The navigation 'Cart.Product' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:06.326 -04:00 [DBG] Context 'StoreContext' started tracking 'Cart' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:06.327 -04:00 [DBG] DetectChanges starting for 'StoreContext'.
2024-04-28 15:29:06.332 -04:00 [DBG] DetectChanges completed for 'StoreContext'.
2024-04-28 15:29:06.332 -04:00 [DBG] SaveChanges starting for 'StoreContext'.
2024-04-28 15:29:06.332 -04:00 [DBG] DetectChanges starting for 'StoreContext'.
2024-04-28 15:29:06.332 -04:00 [DBG] The unchanged property 'Cart.CreatedDate' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-04-28 15:29:06.332 -04:00 [DBG] DetectChanges completed for 'StoreContext'.
2024-04-28 15:29:06.334 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:06.334 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:06.334 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:06.334 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:06.334 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:06.334 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO cart (createddate, "customerId", "isProccesed", productid, quantity, totalamount, updateddate)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING id;
2024-04-28 15:29:06.449 -04:00 [ERR] Failed executing DbCommand (114ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO cart (createddate, "customerId", "isProccesed", productid, quantity, totalamount, updateddate)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING id;
2024-04-28 15:29:06.452 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:06.452 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:06.457 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'WebServiceApp.DbContext.StoreContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: cart
    ConstraintName: FK_cart_customers_customerId
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: cart
    ConstraintName: FK_cart_customers_customerId
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-04-28 15:29:06.458 -04:00 [INF] Executed action WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp) in 273.5605ms
2024-04-28 15:29:06.459 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)'
2024-04-28 15:29:06.459 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: cart
    ConstraintName: FK_cart_customers_customerId
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebServiceApp.Services.StoreRepository.SaveChangesAsync() in /Users/ulia/development/seir_seal/projects/CAPSTONE/BECapstone/WebServiceApp/Services/StoreRepository.cs:line 145
   at WebServiceApp.Controllers.CartController.AddCustomerCartItem(Int32 customerId, CartCreate cartCreate) in /Users/ulia/development/seir_seal/projects/CAPSTONE/BECapstone/WebServiceApp/Controllers/CartController.cs:line 55
   at lambda_method190(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-04-28 15:29:06.485 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-04-28 15:29:06.485 -04:00 [DBG] No information found on request to perform content negotiation.
2024-04-28 15:29:06.485 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2024-04-28 15:29:06.485 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-04-28 15:29:06.503 -04:00 [DBG] Connection id "0HN37N4KCNRBD" completed keep alive response.
2024-04-28 15:29:06.503 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:29:06.503 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:06.503 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:06.503 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5102/api/cart/4 - 500 327 application/problem+json; charset=utf-8 325.4972ms
2024-04-28 15:29:06.508 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5102/api/products - null null
2024-04-28 15:29:06.508 -04:00 [DBG] The request path  does not match the path filter
2024-04-28 15:29:06.508 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:29:06.508 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:29:06.508 -04:00 [DBG] 1 candidate(s) found for the request path '/api/products'
2024-04-28 15:29:06.508 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)' with route pattern 'api/products' is valid for the request path '/api/products'
2024-04-28 15:29:06.508 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:29:06.508 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:29:06.508 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:29:06.508 -04:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[WebServiceApp.Models.ProductDto]]] GetProducts() on controller WebServiceApp.Controllers.ProductController (WebServiceApp).
2024-04-28 15:29:06.508 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:29:06.508 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:29:06.508 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:29:06.508 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:29:06.508 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:29:06.508 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.ProductController (WebServiceApp)
2024-04-28 15:29:06.509 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.ProductController (WebServiceApp)
2024-04-28 15:29:06.509 -04:00 [INF] Executing action method WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:29:06.509 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:29:06.509 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:29:06.509 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:29:06.509 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:06.509 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:06.509 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:06.509 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:06.509 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:06.509 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
ORDER BY p.name
2024-04-28 15:29:06.614 -04:00 [INF] Executed DbCommand (105ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
ORDER BY p.name
2024-04-28 15:29:06.614 -04:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:06.614 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:06.615 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 0ms reading results.
2024-04-28 15:29:06.615 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:06.615 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:06.615 -04:00 [INF] Executed action method WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 106.1561ms.
2024-04-28 15:29:06.615 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-04-28 15:29:06.615 -04:00 [DBG] No information found on request to perform content negotiation.
2024-04-28 15:29:06.615 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-28 15:29:06.615 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-28 15:29:06.615 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-28 15:29:06.615 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebServiceApp.Models.ProductDto, WebServiceApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-28 15:29:06.616 -04:00 [INF] Executed action WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp) in 107.1633ms
2024-04-28 15:29:06.616 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:29:06.616 -04:00 [DBG] Connection id "0HN37N4KCNRBD" completed keep alive response.
2024-04-28 15:29:06.616 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:29:06.616 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:06.616 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:06.616 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5102/api/products - 200 328 application/json; charset=utf-8 108.4282ms
2024-04-28 15:29:06.619 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5102/api/cart/4 - null null
2024-04-28 15:29:06.619 -04:00 [DBG] The request path  does not match the path filter
2024-04-28 15:29:06.619 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:29:06.619 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:29:06.619 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cart/4'
2024-04-28 15:29:06.619 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp)' with route pattern 'api/cart/{customerId:int}' is valid for the request path '/api/cart/4'
2024-04-28 15:29:06.619 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp)'
2024-04-28 15:29:06.619 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:29:06.619 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp)'
2024-04-28 15:29:06.619 -04:00 [INF] Route matched with {action = "GetCustomerCartItems", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[WebServiceApp.Models.CartDto]]] GetCustomerCartItems(Int32) on controller WebServiceApp.Controllers.CartController (WebServiceApp).
2024-04-28 15:29:06.620 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:29:06.620 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:29:06.620 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:29:06.620 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:29:06.620 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:29:06.620 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:06.620 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:06.620 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:06.620 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2024-04-28 15:29:06.620 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:06.620 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:06.620 -04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:06.620 -04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:06.620 -04:00 [INF] Executing action method WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:29:06.621 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:29:06.621 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:29:06.621 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:29:06.621 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:06.621 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:06.621 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:06.621 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:06.621 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:06.621 -04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.createddate, c."customerId", c."isProccesed", c.productid, c.quantity, c.totalamount, c.updateddate
FROM cart AS c
WHERE c."customerId" = @__customerId_0
2024-04-28 15:29:06.735 -04:00 [INF] Executed DbCommand (114ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.createddate, c."customerId", c."isProccesed", c.productid, c.quantity, c.totalamount, c.updateddate
FROM cart AS c
WHERE c."customerId" = @__customerId_0
2024-04-28 15:29:06.736 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:06.736 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 0ms reading results.
2024-04-28 15:29:06.736 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:06.736 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:06.736 -04:00 [INF] Executed action method WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 115.478ms.
2024-04-28 15:29:06.736 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-04-28 15:29:06.736 -04:00 [DBG] No information found on request to perform content negotiation.
2024-04-28 15:29:06.736 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-28 15:29:06.736 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-28 15:29:06.736 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-28 15:29:06.736 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebServiceApp.Models.CartDto, WebServiceApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-28 15:29:06.736 -04:00 [INF] Executed action WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp) in 116.4764ms
2024-04-28 15:29:06.736 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp)'
2024-04-28 15:29:06.736 -04:00 [DBG] Connection id "0HN37N4KCNRBD" completed keep alive response.
2024-04-28 15:29:06.736 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:29:06.736 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:06.736 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:06.736 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5102/api/cart/4 - 200 2 application/json; charset=utf-8 117.6796ms
2024-04-28 15:29:09.495 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5102/api/cart/4 - application/json 52
2024-04-28 15:29:09.496 -04:00 [DBG] POST requests are not supported
2024-04-28 15:29:09.496 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:29:09.496 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:29:09.496 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cart/4'
2024-04-28 15:29:09.496 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)' with route pattern 'api/cart/{customerId:int}' is valid for the request path '/api/cart/4'
2024-04-28 15:29:09.497 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)'
2024-04-28 15:29:09.497 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:29:09.497 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)'
2024-04-28 15:29:09.497 -04:00 [INF] Route matched with {action = "AddCustomerCartItem", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebServiceApp.Models.CartDto]] AddCustomerCartItem(Int32, WebServiceApp.Models.CartCreate) on controller WebServiceApp.Controllers.CartController (WebServiceApp).
2024-04-28 15:29:09.498 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:29:09.498 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:29:09.498 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:29:09.498 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:29:09.498 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:29:09.498 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:09.499 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:09.499 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:09.499 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2024-04-28 15:29:09.499 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:09.499 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:09.499 -04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:09.499 -04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:09.500 -04:00 [DBG] Attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate' ...
2024-04-28 15:29:09.500 -04:00 [DBG] Attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate' using the name '' in request data ...
2024-04-28 15:29:09.500 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-04-28 15:29:09.500 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-04-28 15:29:09.500 -04:00 [DBG] Connection id "0HN37N4KCNRBD", Request id "0HN37N4KCNRBD:0000000A": started reading request body.
2024-04-28 15:29:09.500 -04:00 [DBG] Connection id "0HN37N4KCNRBD", Request id "0HN37N4KCNRBD:0000000A": done reading request body.
2024-04-28 15:29:09.500 -04:00 [DBG] Done attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate'.
2024-04-28 15:29:09.500 -04:00 [DBG] Done attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate'.
2024-04-28 15:29:09.500 -04:00 [DBG] Attempting to validate the bound parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate' ...
2024-04-28 15:29:09.501 -04:00 [DBG] Done attempting to validate the bound parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate'.
2024-04-28 15:29:09.501 -04:00 [INF] Executing action method WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:29:09.502 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:29:09.503 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:29:09.503 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:29:09.503 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:09.503 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:09.503 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:09.504 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:09.504 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:09.504 -04:00 [DBG] Executing DbCommand [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
WHERE p.id = @__productId_0
LIMIT 1
2024-04-28 15:29:09.608 -04:00 [INF] Executed DbCommand (104ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
WHERE p.id = @__productId_0
LIMIT 1
2024-04-28 15:29:09.608 -04:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:09.609 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:09.609 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 0ms reading results.
2024-04-28 15:29:09.609 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:09.609 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:09.610 -04:00 [DBG] 'StoreContext' generated a temporary value for the property 'Cart.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:09.610 -04:00 [DBG] The navigation 'Cart.Product' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:09.610 -04:00 [DBG] Context 'StoreContext' started tracking 'Cart' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:09.610 -04:00 [DBG] DetectChanges starting for 'StoreContext'.
2024-04-28 15:29:09.610 -04:00 [DBG] DetectChanges completed for 'StoreContext'.
2024-04-28 15:29:09.610 -04:00 [DBG] SaveChanges starting for 'StoreContext'.
2024-04-28 15:29:09.610 -04:00 [DBG] DetectChanges starting for 'StoreContext'.
2024-04-28 15:29:09.610 -04:00 [DBG] The unchanged property 'Cart.CreatedDate' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-04-28 15:29:09.611 -04:00 [DBG] DetectChanges completed for 'StoreContext'.
2024-04-28 15:29:09.611 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:09.611 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:09.611 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:09.611 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:09.611 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:09.611 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO cart (createddate, "customerId", "isProccesed", productid, quantity, totalamount, updateddate)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING id;
2024-04-28 15:29:09.717 -04:00 [ERR] Failed executing DbCommand (105ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO cart (createddate, "customerId", "isProccesed", productid, quantity, totalamount, updateddate)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING id;
2024-04-28 15:29:09.717 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:09.717 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:09.718 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'WebServiceApp.DbContext.StoreContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: cart
    ConstraintName: FK_cart_customers_customerId
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: cart
    ConstraintName: FK_cart_customers_customerId
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-04-28 15:29:09.719 -04:00 [INF] Executed action WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp) in 221.4741ms
2024-04-28 15:29:09.719 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)'
2024-04-28 15:29:09.720 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: cart
    ConstraintName: FK_cart_customers_customerId
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebServiceApp.Services.StoreRepository.SaveChangesAsync() in /Users/ulia/development/seir_seal/projects/CAPSTONE/BECapstone/WebServiceApp/Services/StoreRepository.cs:line 145
   at WebServiceApp.Controllers.CartController.AddCustomerCartItem(Int32 customerId, CartCreate cartCreate) in /Users/ulia/development/seir_seal/projects/CAPSTONE/BECapstone/WebServiceApp/Controllers/CartController.cs:line 55
   at lambda_method190(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-04-28 15:29:09.723 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-04-28 15:29:09.723 -04:00 [DBG] No information found on request to perform content negotiation.
2024-04-28 15:29:09.723 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2024-04-28 15:29:09.723 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-04-28 15:29:09.723 -04:00 [DBG] Connection id "0HN37N4KCNRBD" completed keep alive response.
2024-04-28 15:29:09.723 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:29:09.723 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:09.723 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:09.723 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5102/api/cart/4 - 500 327 application/problem+json; charset=utf-8 228.5526ms
2024-04-28 15:29:09.726 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5102/api/products - null null
2024-04-28 15:29:09.726 -04:00 [DBG] The request path  does not match the path filter
2024-04-28 15:29:09.726 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:29:09.726 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:29:09.726 -04:00 [DBG] 1 candidate(s) found for the request path '/api/products'
2024-04-28 15:29:09.726 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)' with route pattern 'api/products' is valid for the request path '/api/products'
2024-04-28 15:29:09.726 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:29:09.726 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:29:09.726 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:29:09.726 -04:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[WebServiceApp.Models.ProductDto]]] GetProducts() on controller WebServiceApp.Controllers.ProductController (WebServiceApp).
2024-04-28 15:29:09.726 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:29:09.726 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:29:09.726 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:29:09.726 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:29:09.726 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:29:09.726 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.ProductController (WebServiceApp)
2024-04-28 15:29:09.726 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.ProductController (WebServiceApp)
2024-04-28 15:29:09.727 -04:00 [INF] Executing action method WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:29:09.727 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:29:09.727 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:29:09.727 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:29:09.727 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:09.727 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:09.727 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:09.727 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:09.727 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:09.727 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
ORDER BY p.name
2024-04-28 15:29:09.823 -04:00 [INF] Executed DbCommand (96ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
ORDER BY p.name
2024-04-28 15:29:09.823 -04:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:09.824 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:09.824 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 0ms reading results.
2024-04-28 15:29:09.824 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:09.824 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:09.824 -04:00 [INF] Executed action method WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 97.2454ms.
2024-04-28 15:29:09.824 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-04-28 15:29:09.824 -04:00 [DBG] No information found on request to perform content negotiation.
2024-04-28 15:29:09.824 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-28 15:29:09.824 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-28 15:29:09.824 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-28 15:29:09.824 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebServiceApp.Models.ProductDto, WebServiceApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-28 15:29:09.824 -04:00 [INF] Executed action WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp) in 98.0259ms
2024-04-28 15:29:09.824 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:29:09.825 -04:00 [DBG] Connection id "0HN37N4KCNRBD" completed keep alive response.
2024-04-28 15:29:09.825 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:29:09.825 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:09.825 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:09.825 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5102/api/products - 200 328 application/json; charset=utf-8 99.0522ms
2024-04-28 15:29:09.827 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5102/api/cart/4 - null null
2024-04-28 15:29:09.827 -04:00 [DBG] The request path  does not match the path filter
2024-04-28 15:29:09.827 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:29:09.827 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:29:09.827 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cart/4'
2024-04-28 15:29:09.827 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp)' with route pattern 'api/cart/{customerId:int}' is valid for the request path '/api/cart/4'
2024-04-28 15:29:09.827 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp)'
2024-04-28 15:29:09.827 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:29:09.827 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp)'
2024-04-28 15:29:09.827 -04:00 [INF] Route matched with {action = "GetCustomerCartItems", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[WebServiceApp.Models.CartDto]]] GetCustomerCartItems(Int32) on controller WebServiceApp.Controllers.CartController (WebServiceApp).
2024-04-28 15:29:09.827 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:29:09.827 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:29:09.827 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:29:09.827 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:29:09.828 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:29:09.828 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:09.828 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:09.828 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:09.828 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2024-04-28 15:29:09.828 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:09.828 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:09.828 -04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:09.829 -04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:09.829 -04:00 [INF] Executing action method WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:29:09.829 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:29:09.829 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:29:09.829 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:29:09.829 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:09.829 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:09.829 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:09.830 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:09.830 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:09.830 -04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.createddate, c."customerId", c."isProccesed", c.productid, c.quantity, c.totalamount, c.updateddate
FROM cart AS c
WHERE c."customerId" = @__customerId_0
2024-04-28 15:29:09.920 -04:00 [DBG] Connection id "0HN37N4KCNRBE" accepted.
2024-04-28 15:29:09.920 -04:00 [DBG] Connection id "0HN37N4KCNRBE" started.
2024-04-28 15:29:09.921 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5102/api/cart/4 - application/json 52
2024-04-28 15:29:09.921 -04:00 [DBG] POST requests are not supported
2024-04-28 15:29:09.921 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:29:09.921 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:29:09.921 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cart/4'
2024-04-28 15:29:09.921 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)' with route pattern 'api/cart/{customerId:int}' is valid for the request path '/api/cart/4'
2024-04-28 15:29:09.921 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)'
2024-04-28 15:29:09.921 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:29:09.922 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)'
2024-04-28 15:29:09.922 -04:00 [INF] Route matched with {action = "AddCustomerCartItem", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebServiceApp.Models.CartDto]] AddCustomerCartItem(Int32, WebServiceApp.Models.CartCreate) on controller WebServiceApp.Controllers.CartController (WebServiceApp).
2024-04-28 15:29:09.922 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:29:09.922 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:29:09.922 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:29:09.922 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:29:09.922 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:29:09.922 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:09.922 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:09.923 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:09.923 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2024-04-28 15:29:09.923 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:09.923 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:09.923 -04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:09.923 -04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:09.923 -04:00 [DBG] Attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate' ...
2024-04-28 15:29:09.923 -04:00 [DBG] Attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate' using the name '' in request data ...
2024-04-28 15:29:09.923 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-04-28 15:29:09.923 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-04-28 15:29:09.923 -04:00 [DBG] Connection id "0HN37N4KCNRBE", Request id "0HN37N4KCNRBE:00000001": started reading request body.
2024-04-28 15:29:09.923 -04:00 [DBG] Connection id "0HN37N4KCNRBE", Request id "0HN37N4KCNRBE:00000001": done reading request body.
2024-04-28 15:29:09.924 -04:00 [DBG] Done attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate'.
2024-04-28 15:29:09.924 -04:00 [DBG] Done attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate'.
2024-04-28 15:29:09.924 -04:00 [DBG] Attempting to validate the bound parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate' ...
2024-04-28 15:29:09.924 -04:00 [DBG] Done attempting to validate the bound parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate'.
2024-04-28 15:29:09.924 -04:00 [INF] Executing action method WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:29:09.925 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:29:09.925 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:29:09.925 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:29:09.925 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:09.939 -04:00 [INF] Executed DbCommand (109ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.createddate, c."customerId", c."isProccesed", c.productid, c.quantity, c.totalamount, c.updateddate
FROM cart AS c
WHERE c."customerId" = @__customerId_0
2024-04-28 15:29:09.939 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:09.939 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 0ms reading results.
2024-04-28 15:29:09.939 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:09.939 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:09.939 -04:00 [INF] Executed action method WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 110.4387ms.
2024-04-28 15:29:09.939 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-04-28 15:29:09.939 -04:00 [DBG] No information found on request to perform content negotiation.
2024-04-28 15:29:09.939 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-28 15:29:09.939 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-28 15:29:09.940 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-28 15:29:09.940 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebServiceApp.Models.CartDto, WebServiceApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-28 15:29:09.940 -04:00 [INF] Executed action WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp) in 112.3266ms
2024-04-28 15:29:09.940 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp)'
2024-04-28 15:29:09.940 -04:00 [DBG] Connection id "0HN37N4KCNRBD" completed keep alive response.
2024-04-28 15:29:09.940 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:29:09.940 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:09.940 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:09.940 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5102/api/cart/4 - 200 2 application/json; charset=utf-8 113.9787ms
2024-04-28 15:29:10.462 -04:00 [DBG] Connection id "0HN37N4KCNRBE" received FIN.
2024-04-28 15:29:10.462 -04:00 [DBG] Connection id "0HN37N4KCNRBE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-28 15:29:10.462 -04:00 [DBG] Connection id "0HN37N4KCNRBE" disconnecting.
2024-04-28 15:29:10.494 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5102/api/products - null null
2024-04-28 15:29:10.494 -04:00 [DBG] The request path  does not match the path filter
2024-04-28 15:29:10.494 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:29:10.494 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:29:10.494 -04:00 [DBG] 1 candidate(s) found for the request path '/api/products'
2024-04-28 15:29:10.494 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)' with route pattern 'api/products' is valid for the request path '/api/products'
2024-04-28 15:29:10.494 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:29:10.494 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:29:10.494 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:29:10.494 -04:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[WebServiceApp.Models.ProductDto]]] GetProducts() on controller WebServiceApp.Controllers.ProductController (WebServiceApp).
2024-04-28 15:29:10.494 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:29:10.494 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:29:10.494 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:29:10.494 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:29:10.494 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:29:10.494 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.ProductController (WebServiceApp)
2024-04-28 15:29:10.495 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.ProductController (WebServiceApp)
2024-04-28 15:29:10.495 -04:00 [INF] Executing action method WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:29:10.495 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:29:10.495 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:29:10.495 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:29:10.495 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:10.495 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:10.495 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:10.495 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:10.495 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:10.495 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
ORDER BY p.name
2024-04-28 15:29:10.595 -04:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
ORDER BY p.name
2024-04-28 15:29:10.596 -04:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:10.596 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:10.596 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 0ms reading results.
2024-04-28 15:29:10.596 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:10.596 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:10.596 -04:00 [INF] Executed action method WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 101.3476ms.
2024-04-28 15:29:10.596 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-04-28 15:29:10.596 -04:00 [DBG] No information found on request to perform content negotiation.
2024-04-28 15:29:10.596 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-28 15:29:10.596 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-28 15:29:10.596 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-28 15:29:10.596 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebServiceApp.Models.ProductDto, WebServiceApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-28 15:29:10.597 -04:00 [INF] Executed action WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp) in 102.0584ms
2024-04-28 15:29:10.597 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:29:10.597 -04:00 [DBG] Connection id "0HN37N4KCNRBD" completed keep alive response.
2024-04-28 15:29:10.597 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:29:10.597 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:10.597 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:10.597 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5102/api/products - 200 328 application/json; charset=utf-8 103.3855ms
2024-04-28 15:29:10.598 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5102/api/cart/4 - null null
2024-04-28 15:29:10.598 -04:00 [DBG] The request path  does not match the path filter
2024-04-28 15:29:10.598 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:29:10.598 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:29:10.598 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cart/4'
2024-04-28 15:29:10.598 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp)' with route pattern 'api/cart/{customerId:int}' is valid for the request path '/api/cart/4'
2024-04-28 15:29:10.598 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp)'
2024-04-28 15:29:10.598 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:29:10.598 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp)'
2024-04-28 15:29:10.598 -04:00 [INF] Route matched with {action = "GetCustomerCartItems", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[WebServiceApp.Models.CartDto]]] GetCustomerCartItems(Int32) on controller WebServiceApp.Controllers.CartController (WebServiceApp).
2024-04-28 15:29:10.598 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:29:10.598 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:29:10.598 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:29:10.598 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:29:10.598 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:29:10.598 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:10.599 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:10.599 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:10.599 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2024-04-28 15:29:10.599 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:10.599 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:10.599 -04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:10.599 -04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:10.599 -04:00 [INF] Executing action method WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:29:10.599 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:29:10.600 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:29:10.600 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:29:10.600 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:10.600 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:10.600 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:10.600 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:10.600 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:10.600 -04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.createddate, c."customerId", c."isProccesed", c.productid, c.quantity, c.totalamount, c.updateddate
FROM cart AS c
WHERE c."customerId" = @__customerId_0
2024-04-28 15:29:10.608 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:10.609 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:10.609 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:10.609 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:10.609 -04:00 [DBG] Executing DbCommand [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
WHERE p.id = @__productId_0
LIMIT 1
2024-04-28 15:29:10.693 -04:00 [INF] Executed DbCommand (93ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.createddate, c."customerId", c."isProccesed", c.productid, c.quantity, c.totalamount, c.updateddate
FROM cart AS c
WHERE c."customerId" = @__customerId_0
2024-04-28 15:29:10.694 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:10.694 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 0ms reading results.
2024-04-28 15:29:10.694 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:10.694 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:10.694 -04:00 [INF] Executed action method WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 94.9461ms.
2024-04-28 15:29:10.694 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-04-28 15:29:10.694 -04:00 [DBG] No information found on request to perform content negotiation.
2024-04-28 15:29:10.694 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-28 15:29:10.695 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-28 15:29:10.695 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-28 15:29:10.695 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebServiceApp.Models.CartDto, WebServiceApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-28 15:29:10.695 -04:00 [INF] Executed action WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp) in 96.286ms
2024-04-28 15:29:10.695 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp)'
2024-04-28 15:29:10.695 -04:00 [DBG] Connection id "0HN37N4KCNRBD" completed keep alive response.
2024-04-28 15:29:10.695 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:29:10.695 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:10.695 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:10.695 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5102/api/cart/4 - 200 2 application/json; charset=utf-8 97.2642ms
2024-04-28 15:29:10.709 -04:00 [INF] Executed DbCommand (100ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
WHERE p.id = @__productId_0
LIMIT 1
2024-04-28 15:29:10.709 -04:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:10.709 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:10.709 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 0ms reading results.
2024-04-28 15:29:10.710 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:10.710 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:10.710 -04:00 [DBG] 'StoreContext' generated a temporary value for the property 'Cart.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:10.710 -04:00 [DBG] The navigation 'Cart.Product' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:10.710 -04:00 [DBG] Context 'StoreContext' started tracking 'Cart' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:10.710 -04:00 [DBG] DetectChanges starting for 'StoreContext'.
2024-04-28 15:29:10.710 -04:00 [DBG] DetectChanges completed for 'StoreContext'.
2024-04-28 15:29:10.710 -04:00 [DBG] SaveChanges starting for 'StoreContext'.
2024-04-28 15:29:10.710 -04:00 [DBG] DetectChanges starting for 'StoreContext'.
2024-04-28 15:29:10.710 -04:00 [DBG] The unchanged property 'Cart.CreatedDate' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-04-28 15:29:10.710 -04:00 [DBG] DetectChanges completed for 'StoreContext'.
2024-04-28 15:29:10.710 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:10.710 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:10.711 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:10.711 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:10.711 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:10.711 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO cart (createddate, "customerId", "isProccesed", productid, quantity, totalamount, updateddate)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING id;
2024-04-28 15:29:10.852 -04:00 [ERR] Failed executing DbCommand (141ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO cart (createddate, "customerId", "isProccesed", productid, quantity, totalamount, updateddate)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING id;
2024-04-28 15:29:10.852 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:10.852 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:10.853 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'WebServiceApp.DbContext.StoreContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: cart
    ConstraintName: FK_cart_customers_customerId
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: cart
    ConstraintName: FK_cart_customers_customerId
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-04-28 15:29:10.855 -04:00 [INF] Executed action WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp) in 932.3891ms
2024-04-28 15:29:10.855 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)'
2024-04-28 15:29:10.855 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: cart
    ConstraintName: FK_cart_customers_customerId
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebServiceApp.Services.StoreRepository.SaveChangesAsync() in /Users/ulia/development/seir_seal/projects/CAPSTONE/BECapstone/WebServiceApp/Services/StoreRepository.cs:line 145
   at WebServiceApp.Controllers.CartController.AddCustomerCartItem(Int32 customerId, CartCreate cartCreate) in /Users/ulia/development/seir_seal/projects/CAPSTONE/BECapstone/WebServiceApp/Controllers/CartController.cs:line 55
   at lambda_method190(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-04-28 15:29:10.858 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-04-28 15:29:10.858 -04:00 [DBG] No information found on request to perform content negotiation.
2024-04-28 15:29:10.858 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2024-04-28 15:29:10.858 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-04-28 15:29:10.858 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:29:10.858 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:10.858 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:10.858 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5102/api/cart/4 - 500 327 application/problem+json; charset=utf-8 937.5816ms
2024-04-28 15:29:10.859 -04:00 [DBG] Connection id "0HN37N4KCNRBE" stopped.
2024-04-28 15:29:13.759 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5102/api/products - null null
2024-04-28 15:29:13.759 -04:00 [DBG] The request path  does not match the path filter
2024-04-28 15:29:13.759 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:29:13.759 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:29:13.759 -04:00 [DBG] 1 candidate(s) found for the request path '/api/products'
2024-04-28 15:29:13.760 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)' with route pattern 'api/products' is valid for the request path '/api/products'
2024-04-28 15:29:13.760 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:29:13.760 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:29:13.760 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:29:13.760 -04:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[WebServiceApp.Models.ProductDto]]] GetProducts() on controller WebServiceApp.Controllers.ProductController (WebServiceApp).
2024-04-28 15:29:13.760 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:29:13.760 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:29:13.761 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:29:13.761 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:29:13.761 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:29:13.761 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.ProductController (WebServiceApp)
2024-04-28 15:29:13.761 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.ProductController (WebServiceApp)
2024-04-28 15:29:13.761 -04:00 [INF] Executing action method WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:29:13.762 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:29:13.762 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:29:13.762 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:29:13.762 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:13.762 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:13.763 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:13.763 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:13.763 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:13.763 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
ORDER BY p.name
2024-04-28 15:29:13.870 -04:00 [INF] Executed DbCommand (107ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
ORDER BY p.name
2024-04-28 15:29:13.871 -04:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:13.871 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:13.871 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 0ms reading results.
2024-04-28 15:29:13.871 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:13.871 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:13.871 -04:00 [INF] Executed action method WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 110.0723ms.
2024-04-28 15:29:13.872 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-04-28 15:29:13.872 -04:00 [DBG] No information found on request to perform content negotiation.
2024-04-28 15:29:13.872 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-28 15:29:13.872 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-28 15:29:13.872 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-28 15:29:13.872 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebServiceApp.Models.ProductDto, WebServiceApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-28 15:29:13.872 -04:00 [INF] Executed action WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp) in 111.5476ms
2024-04-28 15:29:13.872 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:29:13.873 -04:00 [DBG] Connection id "0HN37N4KCNRBD" completed keep alive response.
2024-04-28 15:29:13.873 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:29:13.873 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:13.873 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:13.873 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5102/api/products - 200 328 application/json; charset=utf-8 114.2392ms
2024-04-28 15:29:13.874 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5102/api/cart/4 - null null
2024-04-28 15:29:13.874 -04:00 [DBG] The request path  does not match the path filter
2024-04-28 15:29:13.874 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:29:13.874 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:29:13.874 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cart/4'
2024-04-28 15:29:13.874 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp)' with route pattern 'api/cart/{customerId:int}' is valid for the request path '/api/cart/4'
2024-04-28 15:29:13.874 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp)'
2024-04-28 15:29:13.874 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:29:13.874 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp)'
2024-04-28 15:29:13.875 -04:00 [INF] Route matched with {action = "GetCustomerCartItems", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[WebServiceApp.Models.CartDto]]] GetCustomerCartItems(Int32) on controller WebServiceApp.Controllers.CartController (WebServiceApp).
2024-04-28 15:29:13.875 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:29:13.875 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:29:13.875 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:29:13.875 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:29:13.875 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:29:13.875 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:13.875 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:13.875 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:13.875 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2024-04-28 15:29:13.876 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:13.876 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:13.876 -04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:13.876 -04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:13.876 -04:00 [INF] Executing action method WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:29:13.876 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:29:13.876 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:29:13.877 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:29:13.877 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:13.877 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:13.877 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:13.877 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:13.877 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:13.877 -04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.createddate, c."customerId", c."isProccesed", c.productid, c.quantity, c.totalamount, c.updateddate
FROM cart AS c
WHERE c."customerId" = @__customerId_0
2024-04-28 15:29:13.994 -04:00 [INF] Executed DbCommand (117ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.createddate, c."customerId", c."isProccesed", c.productid, c.quantity, c.totalamount, c.updateddate
FROM cart AS c
WHERE c."customerId" = @__customerId_0
2024-04-28 15:29:13.995 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:13.995 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 0ms reading results.
2024-04-28 15:29:13.995 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:13.995 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:13.996 -04:00 [INF] Executed action method WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 119.3304ms.
2024-04-28 15:29:13.996 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-04-28 15:29:13.996 -04:00 [DBG] No information found on request to perform content negotiation.
2024-04-28 15:29:13.996 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-28 15:29:13.996 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-28 15:29:13.996 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-28 15:29:13.996 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebServiceApp.Models.CartDto, WebServiceApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-28 15:29:13.996 -04:00 [INF] Executed action WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp) in 121.2764ms
2024-04-28 15:29:13.996 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp)'
2024-04-28 15:29:13.997 -04:00 [DBG] Connection id "0HN37N4KCNRBD" completed keep alive response.
2024-04-28 15:29:13.997 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:29:13.997 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:13.997 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:13.997 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5102/api/cart/4 - 200 2 application/json; charset=utf-8 123.3158ms
2024-04-28 15:29:15.273 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5102/api/cart/4 - null null
2024-04-28 15:29:15.273 -04:00 [DBG] OPTIONS requests are not supported
2024-04-28 15:29:15.273 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:29:15.273 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:29:15.273 -04:00 [DBG] The request is a preflight request.
2024-04-28 15:29:15.273 -04:00 [DBG] Connection id "0HN37N4KCNRBD" completed keep alive response.
2024-04-28 15:29:15.273 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5102/api/cart/4 - 204 null null 0.4863ms
2024-04-28 15:29:15.274 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5102/api/cart/4 - application/json 52
2024-04-28 15:29:15.274 -04:00 [DBG] POST requests are not supported
2024-04-28 15:29:15.274 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:29:15.274 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:29:15.274 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cart/4'
2024-04-28 15:29:15.274 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)' with route pattern 'api/cart/{customerId:int}' is valid for the request path '/api/cart/4'
2024-04-28 15:29:15.274 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)'
2024-04-28 15:29:15.274 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:29:15.274 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)'
2024-04-28 15:29:15.274 -04:00 [INF] Route matched with {action = "AddCustomerCartItem", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebServiceApp.Models.CartDto]] AddCustomerCartItem(Int32, WebServiceApp.Models.CartCreate) on controller WebServiceApp.Controllers.CartController (WebServiceApp).
2024-04-28 15:29:15.274 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:29:15.274 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:29:15.275 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:29:15.275 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:29:15.275 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:29:15.275 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:15.275 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:15.275 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:15.275 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2024-04-28 15:29:15.275 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:15.275 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:15.275 -04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:15.275 -04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:15.275 -04:00 [DBG] Attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate' ...
2024-04-28 15:29:15.275 -04:00 [DBG] Attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate' using the name '' in request data ...
2024-04-28 15:29:15.275 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-04-28 15:29:15.275 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-04-28 15:29:15.275 -04:00 [DBG] Connection id "0HN37N4KCNRBD", Request id "0HN37N4KCNRBD:00000012": started reading request body.
2024-04-28 15:29:15.275 -04:00 [DBG] Connection id "0HN37N4KCNRBD", Request id "0HN37N4KCNRBD:00000012": done reading request body.
2024-04-28 15:29:15.276 -04:00 [DBG] Done attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate'.
2024-04-28 15:29:15.276 -04:00 [DBG] Done attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate'.
2024-04-28 15:29:15.276 -04:00 [DBG] Attempting to validate the bound parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate' ...
2024-04-28 15:29:15.276 -04:00 [DBG] Done attempting to validate the bound parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate'.
2024-04-28 15:29:15.276 -04:00 [INF] Executing action method WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:29:15.276 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:29:15.276 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:29:15.276 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:29:15.276 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:15.276 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:15.276 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:15.276 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:15.276 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:15.276 -04:00 [DBG] Executing DbCommand [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
WHERE p.id = @__productId_0
LIMIT 1
2024-04-28 15:29:15.380 -04:00 [INF] Executed DbCommand (104ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
WHERE p.id = @__productId_0
LIMIT 1
2024-04-28 15:29:15.380 -04:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:15.381 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:15.381 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 0ms reading results.
2024-04-28 15:29:15.381 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:15.381 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:15.381 -04:00 [DBG] 'StoreContext' generated a temporary value for the property 'Cart.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:15.381 -04:00 [DBG] The navigation 'Cart.Product' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:15.381 -04:00 [DBG] Context 'StoreContext' started tracking 'Cart' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:15.381 -04:00 [DBG] DetectChanges starting for 'StoreContext'.
2024-04-28 15:29:15.381 -04:00 [DBG] DetectChanges completed for 'StoreContext'.
2024-04-28 15:29:15.381 -04:00 [DBG] SaveChanges starting for 'StoreContext'.
2024-04-28 15:29:15.381 -04:00 [DBG] DetectChanges starting for 'StoreContext'.
2024-04-28 15:29:15.381 -04:00 [DBG] The unchanged property 'Cart.CreatedDate' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-04-28 15:29:15.381 -04:00 [DBG] DetectChanges completed for 'StoreContext'.
2024-04-28 15:29:15.382 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:15.382 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:15.382 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:15.382 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:15.382 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:15.382 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO cart (createddate, "customerId", "isProccesed", productid, quantity, totalamount, updateddate)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING id;
2024-04-28 15:29:15.489 -04:00 [ERR] Failed executing DbCommand (107ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO cart (createddate, "customerId", "isProccesed", productid, quantity, totalamount, updateddate)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING id;
2024-04-28 15:29:15.489 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:15.489 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:15.491 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'WebServiceApp.DbContext.StoreContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: cart
    ConstraintName: FK_cart_customers_customerId
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: cart
    ConstraintName: FK_cart_customers_customerId
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-04-28 15:29:15.494 -04:00 [INF] Executed action WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp) in 218.9612ms
2024-04-28 15:29:15.494 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)'
2024-04-28 15:29:15.494 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: cart
    ConstraintName: FK_cart_customers_customerId
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebServiceApp.Services.StoreRepository.SaveChangesAsync() in /Users/ulia/development/seir_seal/projects/CAPSTONE/BECapstone/WebServiceApp/Services/StoreRepository.cs:line 145
   at WebServiceApp.Controllers.CartController.AddCustomerCartItem(Int32 customerId, CartCreate cartCreate) in /Users/ulia/development/seir_seal/projects/CAPSTONE/BECapstone/WebServiceApp/Controllers/CartController.cs:line 55
   at lambda_method190(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-04-28 15:29:15.499 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-04-28 15:29:15.499 -04:00 [DBG] No information found on request to perform content negotiation.
2024-04-28 15:29:15.499 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2024-04-28 15:29:15.499 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-04-28 15:29:15.499 -04:00 [DBG] Connection id "0HN37N4KCNRBD" completed keep alive response.
2024-04-28 15:29:15.499 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:29:15.499 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:15.499 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:15.499 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5102/api/cart/4 - 500 327 application/problem+json; charset=utf-8 225.4142ms
2024-04-28 15:29:15.502 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5102/api/products - null null
2024-04-28 15:29:15.502 -04:00 [DBG] The request path  does not match the path filter
2024-04-28 15:29:15.502 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:29:15.502 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:29:15.502 -04:00 [DBG] 1 candidate(s) found for the request path '/api/products'
2024-04-28 15:29:15.502 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)' with route pattern 'api/products' is valid for the request path '/api/products'
2024-04-28 15:29:15.502 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:29:15.502 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:29:15.502 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:29:15.502 -04:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[WebServiceApp.Models.ProductDto]]] GetProducts() on controller WebServiceApp.Controllers.ProductController (WebServiceApp).
2024-04-28 15:29:15.502 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:29:15.502 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:29:15.502 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:29:15.502 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:29:15.502 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:29:15.502 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.ProductController (WebServiceApp)
2024-04-28 15:29:15.503 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.ProductController (WebServiceApp)
2024-04-28 15:29:15.503 -04:00 [INF] Executing action method WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:29:15.503 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:29:15.503 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:29:15.503 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:29:15.503 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:15.503 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:15.503 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:15.503 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:15.503 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:15.503 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
ORDER BY p.name
2024-04-28 15:29:15.600 -04:00 [DBG] Connection id "0HN37N4KCNRBF" accepted.
2024-04-28 15:29:15.600 -04:00 [DBG] Connection id "0HN37N4KCNRBF" started.
2024-04-28 15:29:15.601 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5102/api/cart/4 - application/json 52
2024-04-28 15:29:15.601 -04:00 [DBG] POST requests are not supported
2024-04-28 15:29:15.601 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:29:15.601 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:29:15.601 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cart/4'
2024-04-28 15:29:15.601 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)' with route pattern 'api/cart/{customerId:int}' is valid for the request path '/api/cart/4'
2024-04-28 15:29:15.601 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)'
2024-04-28 15:29:15.601 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:29:15.601 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)'
2024-04-28 15:29:15.601 -04:00 [INF] Route matched with {action = "AddCustomerCartItem", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebServiceApp.Models.CartDto]] AddCustomerCartItem(Int32, WebServiceApp.Models.CartCreate) on controller WebServiceApp.Controllers.CartController (WebServiceApp).
2024-04-28 15:29:15.601 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:29:15.601 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:29:15.601 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:29:15.601 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:29:15.601 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:29:15.601 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:15.602 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:15.602 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:15.602 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2024-04-28 15:29:15.602 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:15.602 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:15.602 -04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:15.602 -04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:15.602 -04:00 [DBG] Attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate' ...
2024-04-28 15:29:15.602 -04:00 [DBG] Attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate' using the name '' in request data ...
2024-04-28 15:29:15.602 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-04-28 15:29:15.602 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-04-28 15:29:15.603 -04:00 [DBG] Connection id "0HN37N4KCNRBF", Request id "0HN37N4KCNRBF:00000001": started reading request body.
2024-04-28 15:29:15.603 -04:00 [DBG] Connection id "0HN37N4KCNRBF", Request id "0HN37N4KCNRBF:00000001": done reading request body.
2024-04-28 15:29:15.603 -04:00 [DBG] Done attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate'.
2024-04-28 15:29:15.603 -04:00 [DBG] Done attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate'.
2024-04-28 15:29:15.603 -04:00 [DBG] Attempting to validate the bound parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate' ...
2024-04-28 15:29:15.603 -04:00 [DBG] Done attempting to validate the bound parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate'.
2024-04-28 15:29:15.603 -04:00 [INF] Executing action method WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:29:15.603 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:29:15.604 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:29:15.604 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:29:15.604 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:15.604 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:15.604 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:15.604 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:15.604 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:15.604 -04:00 [DBG] Executing DbCommand [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
WHERE p.id = @__productId_0
LIMIT 1
2024-04-28 15:29:15.605 -04:00 [INF] Executed DbCommand (101ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
ORDER BY p.name
2024-04-28 15:29:15.605 -04:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:15.605 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:15.605 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 0ms reading results.
2024-04-28 15:29:15.605 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:15.605 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:15.605 -04:00 [INF] Executed action method WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 102.6543ms.
2024-04-28 15:29:15.606 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-04-28 15:29:15.606 -04:00 [DBG] No information found on request to perform content negotiation.
2024-04-28 15:29:15.606 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-28 15:29:15.606 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-28 15:29:15.606 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-28 15:29:15.606 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebServiceApp.Models.ProductDto, WebServiceApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-28 15:29:15.606 -04:00 [INF] Executed action WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp) in 103.4437ms
2024-04-28 15:29:15.606 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:29:15.606 -04:00 [DBG] Connection id "0HN37N4KCNRBD" completed keep alive response.
2024-04-28 15:29:15.606 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:29:15.606 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:15.606 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:15.606 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5102/api/products - 200 328 application/json; charset=utf-8 104.776ms
2024-04-28 15:29:15.608 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5102/api/cart/4 - null null
2024-04-28 15:29:15.608 -04:00 [DBG] The request path  does not match the path filter
2024-04-28 15:29:15.608 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:29:15.608 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:29:15.608 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cart/4'
2024-04-28 15:29:15.608 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp)' with route pattern 'api/cart/{customerId:int}' is valid for the request path '/api/cart/4'
2024-04-28 15:29:15.608 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp)'
2024-04-28 15:29:15.609 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:29:15.609 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp)'
2024-04-28 15:29:15.609 -04:00 [INF] Route matched with {action = "GetCustomerCartItems", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[WebServiceApp.Models.CartDto]]] GetCustomerCartItems(Int32) on controller WebServiceApp.Controllers.CartController (WebServiceApp).
2024-04-28 15:29:15.609 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:29:15.609 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:29:15.609 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:29:15.609 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:29:15.609 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:29:15.609 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:15.609 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:15.609 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:15.609 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2024-04-28 15:29:15.609 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:15.609 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:15.609 -04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:15.609 -04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:15.609 -04:00 [INF] Executing action method WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:29:15.610 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:29:15.610 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:29:15.610 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:29:15.610 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:15.610 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:15.610 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:15.610 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:15.610 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:15.610 -04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.createddate, c."customerId", c."isProccesed", c.productid, c.quantity, c.totalamount, c.updateddate
FROM cart AS c
WHERE c."customerId" = @__customerId_0
2024-04-28 15:29:15.710 -04:00 [INF] Executed DbCommand (106ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
WHERE p.id = @__productId_0
LIMIT 1
2024-04-28 15:29:15.711 -04:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:15.711 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:15.711 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 0ms reading results.
2024-04-28 15:29:15.711 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:15.711 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:15.711 -04:00 [DBG] 'StoreContext' generated a temporary value for the property 'Cart.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:15.711 -04:00 [DBG] The navigation 'Cart.Product' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:15.711 -04:00 [DBG] Context 'StoreContext' started tracking 'Cart' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:15.711 -04:00 [DBG] DetectChanges starting for 'StoreContext'.
2024-04-28 15:29:15.711 -04:00 [DBG] DetectChanges completed for 'StoreContext'.
2024-04-28 15:29:15.711 -04:00 [DBG] SaveChanges starting for 'StoreContext'.
2024-04-28 15:29:15.711 -04:00 [DBG] DetectChanges starting for 'StoreContext'.
2024-04-28 15:29:15.711 -04:00 [DBG] The unchanged property 'Cart.CreatedDate' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-04-28 15:29:15.712 -04:00 [DBG] DetectChanges completed for 'StoreContext'.
2024-04-28 15:29:15.712 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:15.712 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:15.712 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:15.712 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:15.712 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:15.712 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO cart (createddate, "customerId", "isProccesed", productid, quantity, totalamount, updateddate)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING id;
2024-04-28 15:29:15.714 -04:00 [INF] Executed DbCommand (104ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.createddate, c."customerId", c."isProccesed", c.productid, c.quantity, c.totalamount, c.updateddate
FROM cart AS c
WHERE c."customerId" = @__customerId_0
2024-04-28 15:29:15.714 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:15.714 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 0ms reading results.
2024-04-28 15:29:15.714 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:15.714 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:15.714 -04:00 [INF] Executed action method WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 104.8739ms.
2024-04-28 15:29:15.714 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-04-28 15:29:15.715 -04:00 [DBG] No information found on request to perform content negotiation.
2024-04-28 15:29:15.715 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-28 15:29:15.715 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-28 15:29:15.715 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-28 15:29:15.715 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebServiceApp.Models.CartDto, WebServiceApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-28 15:29:15.715 -04:00 [INF] Executed action WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp) in 105.752ms
2024-04-28 15:29:15.715 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp)'
2024-04-28 15:29:15.715 -04:00 [DBG] Connection id "0HN37N4KCNRBD" completed keep alive response.
2024-04-28 15:29:15.715 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:29:15.715 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:15.715 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:15.715 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5102/api/cart/4 - 200 2 application/json; charset=utf-8 106.8766ms
2024-04-28 15:29:15.777 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5102/api/cart/4 - application/json 52
2024-04-28 15:29:15.777 -04:00 [DBG] POST requests are not supported
2024-04-28 15:29:15.777 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:29:15.777 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:29:15.777 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cart/4'
2024-04-28 15:29:15.777 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)' with route pattern 'api/cart/{customerId:int}' is valid for the request path '/api/cart/4'
2024-04-28 15:29:15.777 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)'
2024-04-28 15:29:15.777 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:29:15.777 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)'
2024-04-28 15:29:15.777 -04:00 [INF] Route matched with {action = "AddCustomerCartItem", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebServiceApp.Models.CartDto]] AddCustomerCartItem(Int32, WebServiceApp.Models.CartCreate) on controller WebServiceApp.Controllers.CartController (WebServiceApp).
2024-04-28 15:29:15.777 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:29:15.777 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:29:15.778 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:29:15.778 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:29:15.778 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:29:15.778 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:15.778 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:15.778 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:15.778 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2024-04-28 15:29:15.778 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:15.778 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:15.778 -04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:15.778 -04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:15.778 -04:00 [DBG] Attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate' ...
2024-04-28 15:29:15.778 -04:00 [DBG] Attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate' using the name '' in request data ...
2024-04-28 15:29:15.778 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-04-28 15:29:15.778 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-04-28 15:29:15.778 -04:00 [DBG] Connection id "0HN37N4KCNRBD", Request id "0HN37N4KCNRBD:00000015": started reading request body.
2024-04-28 15:29:15.778 -04:00 [DBG] Connection id "0HN37N4KCNRBD", Request id "0HN37N4KCNRBD:00000015": done reading request body.
2024-04-28 15:29:15.778 -04:00 [DBG] Done attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate'.
2024-04-28 15:29:15.778 -04:00 [DBG] Done attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate'.
2024-04-28 15:29:15.778 -04:00 [DBG] Attempting to validate the bound parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate' ...
2024-04-28 15:29:15.778 -04:00 [DBG] Done attempting to validate the bound parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate'.
2024-04-28 15:29:15.778 -04:00 [INF] Executing action method WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:29:15.779 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:29:15.779 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:29:15.779 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:29:15.779 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:15.779 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:15.779 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:15.779 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:15.779 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:15.779 -04:00 [DBG] Executing DbCommand [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
WHERE p.id = @__productId_0
LIMIT 1
2024-04-28 15:29:15.818 -04:00 [ERR] Failed executing DbCommand (106ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO cart (createddate, "customerId", "isProccesed", productid, quantity, totalamount, updateddate)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING id;
2024-04-28 15:29:15.818 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:15.818 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:15.819 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'WebServiceApp.DbContext.StoreContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: cart
    ConstraintName: FK_cart_customers_customerId
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: cart
    ConstraintName: FK_cart_customers_customerId
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-04-28 15:29:15.820 -04:00 [INF] Executed action WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp) in 218.7604ms
2024-04-28 15:29:15.820 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)'
2024-04-28 15:29:15.820 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: cart
    ConstraintName: FK_cart_customers_customerId
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebServiceApp.Services.StoreRepository.SaveChangesAsync() in /Users/ulia/development/seir_seal/projects/CAPSTONE/BECapstone/WebServiceApp/Services/StoreRepository.cs:line 145
   at WebServiceApp.Controllers.CartController.AddCustomerCartItem(Int32 customerId, CartCreate cartCreate) in /Users/ulia/development/seir_seal/projects/CAPSTONE/BECapstone/WebServiceApp/Controllers/CartController.cs:line 55
   at lambda_method190(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-04-28 15:29:15.823 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-04-28 15:29:15.823 -04:00 [DBG] No information found on request to perform content negotiation.
2024-04-28 15:29:15.823 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2024-04-28 15:29:15.823 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-04-28 15:29:15.824 -04:00 [DBG] Connection id "0HN37N4KCNRBF" completed keep alive response.
2024-04-28 15:29:15.824 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:29:15.824 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:15.824 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:15.824 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5102/api/cart/4 - 500 327 application/problem+json; charset=utf-8 223.2075ms
2024-04-28 15:29:15.880 -04:00 [INF] Executed DbCommand (101ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
WHERE p.id = @__productId_0
LIMIT 1
2024-04-28 15:29:15.880 -04:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:15.880 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:15.880 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 0ms reading results.
2024-04-28 15:29:15.880 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:15.880 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:15.881 -04:00 [DBG] 'StoreContext' generated a temporary value for the property 'Cart.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:15.881 -04:00 [DBG] The navigation 'Cart.Product' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:15.881 -04:00 [DBG] Context 'StoreContext' started tracking 'Cart' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:15.881 -04:00 [DBG] DetectChanges starting for 'StoreContext'.
2024-04-28 15:29:15.881 -04:00 [DBG] DetectChanges completed for 'StoreContext'.
2024-04-28 15:29:15.881 -04:00 [DBG] SaveChanges starting for 'StoreContext'.
2024-04-28 15:29:15.881 -04:00 [DBG] DetectChanges starting for 'StoreContext'.
2024-04-28 15:29:15.881 -04:00 [DBG] The unchanged property 'Cart.CreatedDate' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-04-28 15:29:15.881 -04:00 [DBG] DetectChanges completed for 'StoreContext'.
2024-04-28 15:29:15.881 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:15.882 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:15.882 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:15.882 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:15.882 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:15.882 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO cart (createddate, "customerId", "isProccesed", productid, quantity, totalamount, updateddate)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING id;
2024-04-28 15:29:15.973 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5102/api/cart/4 - application/json 52
2024-04-28 15:29:15.973 -04:00 [DBG] POST requests are not supported
2024-04-28 15:29:15.974 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:29:15.974 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:29:15.974 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cart/4'
2024-04-28 15:29:15.974 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)' with route pattern 'api/cart/{customerId:int}' is valid for the request path '/api/cart/4'
2024-04-28 15:29:15.974 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)'
2024-04-28 15:29:15.974 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:29:15.975 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)'
2024-04-28 15:29:15.975 -04:00 [INF] Route matched with {action = "AddCustomerCartItem", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebServiceApp.Models.CartDto]] AddCustomerCartItem(Int32, WebServiceApp.Models.CartCreate) on controller WebServiceApp.Controllers.CartController (WebServiceApp).
2024-04-28 15:29:15.975 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:29:15.975 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:29:15.975 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:29:15.975 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:29:15.975 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:29:15.975 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:15.977 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:15.977 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:15.977 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2024-04-28 15:29:15.977 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:15.977 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:15.977 -04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:15.977 -04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:15.978 -04:00 [DBG] Attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate' ...
2024-04-28 15:29:15.978 -04:00 [DBG] Attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate' using the name '' in request data ...
2024-04-28 15:29:15.978 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-04-28 15:29:15.978 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-04-28 15:29:15.978 -04:00 [DBG] Connection id "0HN37N4KCNRBF", Request id "0HN37N4KCNRBF:00000002": started reading request body.
2024-04-28 15:29:15.978 -04:00 [DBG] Connection id "0HN37N4KCNRBF", Request id "0HN37N4KCNRBF:00000002": done reading request body.
2024-04-28 15:29:15.978 -04:00 [DBG] Done attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate'.
2024-04-28 15:29:15.978 -04:00 [DBG] Done attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate'.
2024-04-28 15:29:15.978 -04:00 [DBG] Attempting to validate the bound parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate' ...
2024-04-28 15:29:15.978 -04:00 [ERR] Failed executing DbCommand (97ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO cart (createddate, "customerId", "isProccesed", productid, quantity, totalamount, updateddate)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING id;
2024-04-28 15:29:15.979 -04:00 [DBG] Done attempting to validate the bound parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate'.
2024-04-28 15:29:15.979 -04:00 [INF] Executing action method WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:29:15.979 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:15.979 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:15.979 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:29:15.980 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:29:15.980 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:29:15.980 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:15.980 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:15.980 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:15.981 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:15.981 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:15.981 -04:00 [DBG] Executing DbCommand [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
WHERE p.id = @__productId_0
LIMIT 1
2024-04-28 15:29:15.981 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'WebServiceApp.DbContext.StoreContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: cart
    ConstraintName: FK_cart_customers_customerId
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: cart
    ConstraintName: FK_cart_customers_customerId
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-04-28 15:29:15.984 -04:00 [INF] Executed action WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp) in 206.6804ms
2024-04-28 15:29:15.984 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)'
2024-04-28 15:29:15.985 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: cart
    ConstraintName: FK_cart_customers_customerId
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebServiceApp.Services.StoreRepository.SaveChangesAsync() in /Users/ulia/development/seir_seal/projects/CAPSTONE/BECapstone/WebServiceApp/Services/StoreRepository.cs:line 145
   at WebServiceApp.Controllers.CartController.AddCustomerCartItem(Int32 customerId, CartCreate cartCreate) in /Users/ulia/development/seir_seal/projects/CAPSTONE/BECapstone/WebServiceApp/Controllers/CartController.cs:line 55
   at lambda_method190(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-04-28 15:29:15.990 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-04-28 15:29:15.990 -04:00 [DBG] No information found on request to perform content negotiation.
2024-04-28 15:29:15.990 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2024-04-28 15:29:15.990 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-04-28 15:29:15.991 -04:00 [DBG] Connection id "0HN37N4KCNRBD" completed keep alive response.
2024-04-28 15:29:15.991 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:29:15.991 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:15.991 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:15.991 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5102/api/cart/4 - 500 327 application/problem+json; charset=utf-8 214.265ms
2024-04-28 15:29:16.077 -04:00 [INF] Executed DbCommand (96ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
WHERE p.id = @__productId_0
LIMIT 1
2024-04-28 15:29:16.077 -04:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:16.077 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:16.077 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 0ms reading results.
2024-04-28 15:29:16.077 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:16.078 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:16.078 -04:00 [DBG] 'StoreContext' generated a temporary value for the property 'Cart.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:16.078 -04:00 [DBG] The navigation 'Cart.Product' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:16.078 -04:00 [DBG] Context 'StoreContext' started tracking 'Cart' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:16.078 -04:00 [DBG] DetectChanges starting for 'StoreContext'.
2024-04-28 15:29:16.078 -04:00 [DBG] DetectChanges completed for 'StoreContext'.
2024-04-28 15:29:16.078 -04:00 [DBG] SaveChanges starting for 'StoreContext'.
2024-04-28 15:29:16.078 -04:00 [DBG] DetectChanges starting for 'StoreContext'.
2024-04-28 15:29:16.078 -04:00 [DBG] The unchanged property 'Cart.CreatedDate' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-04-28 15:29:16.078 -04:00 [DBG] DetectChanges completed for 'StoreContext'.
2024-04-28 15:29:16.079 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:16.079 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:16.079 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:16.079 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:16.079 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:16.079 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO cart (createddate, "customerId", "isProccesed", productid, quantity, totalamount, updateddate)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING id;
2024-04-28 15:29:16.177 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5102/api/cart/4 - application/json 52
2024-04-28 15:29:16.177 -04:00 [DBG] POST requests are not supported
2024-04-28 15:29:16.178 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:29:16.178 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:29:16.178 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cart/4'
2024-04-28 15:29:16.178 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)' with route pattern 'api/cart/{customerId:int}' is valid for the request path '/api/cart/4'
2024-04-28 15:29:16.178 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)'
2024-04-28 15:29:16.178 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:29:16.178 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)'
2024-04-28 15:29:16.178 -04:00 [INF] Route matched with {action = "AddCustomerCartItem", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebServiceApp.Models.CartDto]] AddCustomerCartItem(Int32, WebServiceApp.Models.CartCreate) on controller WebServiceApp.Controllers.CartController (WebServiceApp).
2024-04-28 15:29:16.178 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:29:16.178 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:29:16.178 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:29:16.178 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:29:16.178 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:29:16.178 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:16.179 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:16.179 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:16.179 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2024-04-28 15:29:16.179 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:16.179 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:16.179 -04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:16.179 -04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:16.179 -04:00 [DBG] Attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate' ...
2024-04-28 15:29:16.179 -04:00 [DBG] Attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate' using the name '' in request data ...
2024-04-28 15:29:16.179 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-04-28 15:29:16.179 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-04-28 15:29:16.179 -04:00 [DBG] Connection id "0HN37N4KCNRBD", Request id "0HN37N4KCNRBD:00000016": started reading request body.
2024-04-28 15:29:16.179 -04:00 [DBG] Connection id "0HN37N4KCNRBD", Request id "0HN37N4KCNRBD:00000016": done reading request body.
2024-04-28 15:29:16.179 -04:00 [DBG] Done attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate'.
2024-04-28 15:29:16.180 -04:00 [DBG] Done attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate'.
2024-04-28 15:29:16.180 -04:00 [DBG] Attempting to validate the bound parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate' ...
2024-04-28 15:29:16.180 -04:00 [DBG] Done attempting to validate the bound parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate'.
2024-04-28 15:29:16.180 -04:00 [INF] Executing action method WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:29:16.180 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:29:16.180 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:29:16.180 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:29:16.180 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:16.180 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:16.181 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:16.181 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:16.181 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:16.181 -04:00 [DBG] Executing DbCommand [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
WHERE p.id = @__productId_0
LIMIT 1
2024-04-28 15:29:16.219 -04:00 [ERR] Failed executing DbCommand (140ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO cart (createddate, "customerId", "isProccesed", productid, quantity, totalamount, updateddate)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING id;
2024-04-28 15:29:16.220 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:16.220 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:16.221 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'WebServiceApp.DbContext.StoreContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: cart
    ConstraintName: FK_cart_customers_customerId
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: cart
    ConstraintName: FK_cart_customers_customerId
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-04-28 15:29:16.224 -04:00 [INF] Executed action WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp) in 248.1328ms
2024-04-28 15:29:16.224 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)'
2024-04-28 15:29:16.224 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: cart
    ConstraintName: FK_cart_customers_customerId
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebServiceApp.Services.StoreRepository.SaveChangesAsync() in /Users/ulia/development/seir_seal/projects/CAPSTONE/BECapstone/WebServiceApp/Services/StoreRepository.cs:line 145
   at WebServiceApp.Controllers.CartController.AddCustomerCartItem(Int32 customerId, CartCreate cartCreate) in /Users/ulia/development/seir_seal/projects/CAPSTONE/BECapstone/WebServiceApp/Controllers/CartController.cs:line 55
   at lambda_method190(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-04-28 15:29:16.228 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-04-28 15:29:16.228 -04:00 [DBG] No information found on request to perform content negotiation.
2024-04-28 15:29:16.228 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2024-04-28 15:29:16.228 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-04-28 15:29:16.229 -04:00 [DBG] Connection id "0HN37N4KCNRBF" completed keep alive response.
2024-04-28 15:29:16.229 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:29:16.229 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:16.229 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:16.229 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5102/api/cart/4 - 500 327 application/problem+json; charset=utf-8 256.2731ms
2024-04-28 15:29:16.280 -04:00 [INF] Executed DbCommand (99ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
WHERE p.id = @__productId_0
LIMIT 1
2024-04-28 15:29:16.280 -04:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:16.280 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:16.280 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 0ms reading results.
2024-04-28 15:29:16.280 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:16.280 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:16.280 -04:00 [DBG] 'StoreContext' generated a temporary value for the property 'Cart.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:16.280 -04:00 [DBG] The navigation 'Cart.Product' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:16.280 -04:00 [DBG] Context 'StoreContext' started tracking 'Cart' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:16.281 -04:00 [DBG] DetectChanges starting for 'StoreContext'.
2024-04-28 15:29:16.281 -04:00 [DBG] DetectChanges completed for 'StoreContext'.
2024-04-28 15:29:16.281 -04:00 [DBG] SaveChanges starting for 'StoreContext'.
2024-04-28 15:29:16.281 -04:00 [DBG] DetectChanges starting for 'StoreContext'.
2024-04-28 15:29:16.281 -04:00 [DBG] The unchanged property 'Cart.CreatedDate' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-04-28 15:29:16.281 -04:00 [DBG] DetectChanges completed for 'StoreContext'.
2024-04-28 15:29:16.281 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:16.281 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:16.281 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:16.281 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:16.281 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:16.281 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO cart (createddate, "customerId", "isProccesed", productid, quantity, totalamount, updateddate)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING id;
2024-04-28 15:29:16.378 -04:00 [ERR] Failed executing DbCommand (97ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO cart (createddate, "customerId", "isProccesed", productid, quantity, totalamount, updateddate)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING id;
2024-04-28 15:29:16.378 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:16.378 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:16.379 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'WebServiceApp.DbContext.StoreContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: cart
    ConstraintName: FK_cart_customers_customerId
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: cart
    ConstraintName: FK_cart_customers_customerId
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-04-28 15:29:16.381 -04:00 [INF] Executed action WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp) in 202.9577ms
2024-04-28 15:29:16.381 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)'
2024-04-28 15:29:16.382 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: cart
    ConstraintName: FK_cart_customers_customerId
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebServiceApp.Services.StoreRepository.SaveChangesAsync() in /Users/ulia/development/seir_seal/projects/CAPSTONE/BECapstone/WebServiceApp/Services/StoreRepository.cs:line 145
   at WebServiceApp.Controllers.CartController.AddCustomerCartItem(Int32 customerId, CartCreate cartCreate) in /Users/ulia/development/seir_seal/projects/CAPSTONE/BECapstone/WebServiceApp/Controllers/CartController.cs:line 55
   at lambda_method190(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-04-28 15:29:16.385 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-04-28 15:29:16.385 -04:00 [DBG] No information found on request to perform content negotiation.
2024-04-28 15:29:16.385 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2024-04-28 15:29:16.385 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-04-28 15:29:16.385 -04:00 [DBG] Connection id "0HN37N4KCNRBD" completed keep alive response.
2024-04-28 15:29:16.385 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:29:16.386 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:16.386 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:16.386 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5102/api/cart/4 - 500 327 application/problem+json; charset=utf-8 208.4886ms
2024-04-28 15:29:16.389 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5102/api/products - null null
2024-04-28 15:29:16.389 -04:00 [DBG] The request path  does not match the path filter
2024-04-28 15:29:16.389 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:29:16.389 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:29:16.389 -04:00 [DBG] 1 candidate(s) found for the request path '/api/products'
2024-04-28 15:29:16.389 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)' with route pattern 'api/products' is valid for the request path '/api/products'
2024-04-28 15:29:16.389 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:29:16.389 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:29:16.389 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:29:16.389 -04:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[WebServiceApp.Models.ProductDto]]] GetProducts() on controller WebServiceApp.Controllers.ProductController (WebServiceApp).
2024-04-28 15:29:16.389 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:29:16.389 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:29:16.389 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:29:16.389 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:29:16.389 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:29:16.389 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.ProductController (WebServiceApp)
2024-04-28 15:29:16.389 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.ProductController (WebServiceApp)
2024-04-28 15:29:16.389 -04:00 [INF] Executing action method WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:29:16.390 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:29:16.390 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:29:16.390 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:29:16.390 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:16.390 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:16.390 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:16.390 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:16.390 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:16.390 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
ORDER BY p.name
2024-04-28 15:29:16.494 -04:00 [INF] Executed DbCommand (104ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
ORDER BY p.name
2024-04-28 15:29:16.495 -04:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:16.495 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:16.495 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 0ms reading results.
2024-04-28 15:29:16.495 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:16.495 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:16.495 -04:00 [INF] Executed action method WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 105.434ms.
2024-04-28 15:29:16.495 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-04-28 15:29:16.495 -04:00 [DBG] No information found on request to perform content negotiation.
2024-04-28 15:29:16.495 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-28 15:29:16.495 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-28 15:29:16.495 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-28 15:29:16.495 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebServiceApp.Models.ProductDto, WebServiceApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-28 15:29:16.495 -04:00 [INF] Executed action WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp) in 106.1748ms
2024-04-28 15:29:16.495 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:29:16.496 -04:00 [DBG] Connection id "0HN37N4KCNRBD" completed keep alive response.
2024-04-28 15:29:16.496 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:29:16.496 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:16.496 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:16.496 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5102/api/products - 200 328 application/json; charset=utf-8 107.1436ms
2024-04-28 15:29:16.499 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5102/api/cart/4 - null null
2024-04-28 15:29:16.499 -04:00 [DBG] The request path  does not match the path filter
2024-04-28 15:29:16.499 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:29:16.499 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:29:16.499 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cart/4'
2024-04-28 15:29:16.499 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp)' with route pattern 'api/cart/{customerId:int}' is valid for the request path '/api/cart/4'
2024-04-28 15:29:16.499 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp)'
2024-04-28 15:29:16.499 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:29:16.499 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp)'
2024-04-28 15:29:16.499 -04:00 [INF] Route matched with {action = "GetCustomerCartItems", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[WebServiceApp.Models.CartDto]]] GetCustomerCartItems(Int32) on controller WebServiceApp.Controllers.CartController (WebServiceApp).
2024-04-28 15:29:16.500 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:29:16.500 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:29:16.500 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:29:16.500 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:29:16.500 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:29:16.500 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:16.500 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:16.500 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:16.500 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2024-04-28 15:29:16.500 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:16.500 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:16.500 -04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:16.500 -04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:16.500 -04:00 [INF] Executing action method WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:29:16.501 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:29:16.501 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:29:16.501 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:29:16.501 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:16.501 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:16.501 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:16.501 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:16.501 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:16.501 -04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.createddate, c."customerId", c."isProccesed", c.productid, c.quantity, c.totalamount, c.updateddate
FROM cart AS c
WHERE c."customerId" = @__customerId_0
2024-04-28 15:29:16.620 -04:00 [INF] Executed DbCommand (119ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.createddate, c."customerId", c."isProccesed", c.productid, c.quantity, c.totalamount, c.updateddate
FROM cart AS c
WHERE c."customerId" = @__customerId_0
2024-04-28 15:29:16.621 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:16.621 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 0ms reading results.
2024-04-28 15:29:16.621 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:16.621 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:16.621 -04:00 [INF] Executed action method WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 120.808ms.
2024-04-28 15:29:16.621 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-04-28 15:29:16.622 -04:00 [DBG] No information found on request to perform content negotiation.
2024-04-28 15:29:16.622 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-28 15:29:16.622 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-28 15:29:16.622 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-28 15:29:16.622 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebServiceApp.Models.CartDto, WebServiceApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-28 15:29:16.622 -04:00 [INF] Executed action WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp) in 122.1256ms
2024-04-28 15:29:16.622 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp)'
2024-04-28 15:29:16.622 -04:00 [DBG] Connection id "0HN37N4KCNRBD" completed keep alive response.
2024-04-28 15:29:16.622 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:29:16.622 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:16.622 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:16.622 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5102/api/cart/4 - 200 2 application/json; charset=utf-8 123.4947ms
2024-04-28 15:29:20.845 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5102/api/cart/4 - null null
2024-04-28 15:29:20.846 -04:00 [DBG] OPTIONS requests are not supported
2024-04-28 15:29:20.846 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:29:20.846 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:29:20.846 -04:00 [DBG] The request is a preflight request.
2024-04-28 15:29:20.846 -04:00 [DBG] Connection id "0HN37N4KCNRBD" completed keep alive response.
2024-04-28 15:29:20.846 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5102/api/cart/4 - 204 null null 0.6649ms
2024-04-28 15:29:20.847 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5102/api/cart/4 - application/json 52
2024-04-28 15:29:20.847 -04:00 [DBG] POST requests are not supported
2024-04-28 15:29:20.847 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:29:20.847 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:29:20.847 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cart/4'
2024-04-28 15:29:20.847 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)' with route pattern 'api/cart/{customerId:int}' is valid for the request path '/api/cart/4'
2024-04-28 15:29:20.847 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)'
2024-04-28 15:29:20.847 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:29:20.847 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)'
2024-04-28 15:29:20.847 -04:00 [INF] Route matched with {action = "AddCustomerCartItem", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebServiceApp.Models.CartDto]] AddCustomerCartItem(Int32, WebServiceApp.Models.CartCreate) on controller WebServiceApp.Controllers.CartController (WebServiceApp).
2024-04-28 15:29:20.848 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:29:20.848 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:29:20.848 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:29:20.848 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:29:20.848 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:29:20.848 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:20.848 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:20.848 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:20.848 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2024-04-28 15:29:20.848 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:20.848 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:20.848 -04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:20.848 -04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:20.848 -04:00 [DBG] Attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate' ...
2024-04-28 15:29:20.848 -04:00 [DBG] Attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate' using the name '' in request data ...
2024-04-28 15:29:20.848 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-04-28 15:29:20.849 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-04-28 15:29:20.849 -04:00 [DBG] Connection id "0HN37N4KCNRBD", Request id "0HN37N4KCNRBD:0000001A": started reading request body.
2024-04-28 15:29:20.849 -04:00 [DBG] Connection id "0HN37N4KCNRBD", Request id "0HN37N4KCNRBD:0000001A": done reading request body.
2024-04-28 15:29:20.849 -04:00 [DBG] Done attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate'.
2024-04-28 15:29:20.849 -04:00 [DBG] Done attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate'.
2024-04-28 15:29:20.849 -04:00 [DBG] Attempting to validate the bound parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate' ...
2024-04-28 15:29:20.849 -04:00 [DBG] Done attempting to validate the bound parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate'.
2024-04-28 15:29:20.849 -04:00 [INF] Executing action method WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:29:20.849 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:29:20.849 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:29:20.850 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:29:20.850 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:20.850 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:20.850 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:20.850 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:20.850 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:20.850 -04:00 [DBG] Executing DbCommand [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
WHERE p.id = @__productId_0
LIMIT 1
2024-04-28 15:29:20.947 -04:00 [INF] Executed DbCommand (98ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
WHERE p.id = @__productId_0
LIMIT 1
2024-04-28 15:29:20.948 -04:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:20.948 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:20.948 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 0ms reading results.
2024-04-28 15:29:20.948 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:20.948 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:20.948 -04:00 [DBG] 'StoreContext' generated a temporary value for the property 'Cart.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:20.948 -04:00 [DBG] The navigation 'Cart.Product' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:20.948 -04:00 [DBG] Context 'StoreContext' started tracking 'Cart' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:20.948 -04:00 [DBG] DetectChanges starting for 'StoreContext'.
2024-04-28 15:29:20.948 -04:00 [DBG] DetectChanges completed for 'StoreContext'.
2024-04-28 15:29:20.949 -04:00 [DBG] SaveChanges starting for 'StoreContext'.
2024-04-28 15:29:20.949 -04:00 [DBG] DetectChanges starting for 'StoreContext'.
2024-04-28 15:29:20.949 -04:00 [DBG] The unchanged property 'Cart.CreatedDate' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-04-28 15:29:20.949 -04:00 [DBG] DetectChanges completed for 'StoreContext'.
2024-04-28 15:29:20.949 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:20.949 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:20.949 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:20.949 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:20.949 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:20.949 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO cart (createddate, "customerId", "isProccesed", productid, quantity, totalamount, updateddate)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING id;
2024-04-28 15:29:21.044 -04:00 [ERR] Failed executing DbCommand (95ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO cart (createddate, "customerId", "isProccesed", productid, quantity, totalamount, updateddate)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING id;
2024-04-28 15:29:21.045 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:21.045 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:21.046 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'WebServiceApp.DbContext.StoreContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: cart
    ConstraintName: FK_cart_customers_customerId
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: cart
    ConstraintName: FK_cart_customers_customerId
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-04-28 15:29:21.049 -04:00 [INF] Executed action WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp) in 201.4728ms
2024-04-28 15:29:21.049 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)'
2024-04-28 15:29:21.050 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: cart
    ConstraintName: FK_cart_customers_customerId
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebServiceApp.Services.StoreRepository.SaveChangesAsync() in /Users/ulia/development/seir_seal/projects/CAPSTONE/BECapstone/WebServiceApp/Services/StoreRepository.cs:line 145
   at WebServiceApp.Controllers.CartController.AddCustomerCartItem(Int32 customerId, CartCreate cartCreate) in /Users/ulia/development/seir_seal/projects/CAPSTONE/BECapstone/WebServiceApp/Controllers/CartController.cs:line 55
   at lambda_method190(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-04-28 15:29:21.054 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-04-28 15:29:21.055 -04:00 [DBG] No information found on request to perform content negotiation.
2024-04-28 15:29:21.055 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2024-04-28 15:29:21.055 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-04-28 15:29:21.055 -04:00 [DBG] Connection id "0HN37N4KCNRBD" completed keep alive response.
2024-04-28 15:29:21.055 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:29:21.055 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:21.055 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:21.055 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5102/api/cart/4 - 500 327 application/problem+json; charset=utf-8 208.3997ms
2024-04-28 15:29:21.058 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5102/api/products - null null
2024-04-28 15:29:21.058 -04:00 [DBG] The request path  does not match the path filter
2024-04-28 15:29:21.058 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:29:21.058 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:29:21.058 -04:00 [DBG] 1 candidate(s) found for the request path '/api/products'
2024-04-28 15:29:21.058 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)' with route pattern 'api/products' is valid for the request path '/api/products'
2024-04-28 15:29:21.058 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:29:21.059 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:29:21.059 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:29:21.059 -04:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[WebServiceApp.Models.ProductDto]]] GetProducts() on controller WebServiceApp.Controllers.ProductController (WebServiceApp).
2024-04-28 15:29:21.059 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:29:21.059 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:29:21.059 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:29:21.059 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:29:21.059 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:29:21.059 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.ProductController (WebServiceApp)
2024-04-28 15:29:21.059 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.ProductController (WebServiceApp)
2024-04-28 15:29:21.059 -04:00 [INF] Executing action method WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:29:21.060 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:29:21.060 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:29:21.060 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:29:21.060 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:21.060 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:21.060 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:21.060 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:21.060 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:21.060 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
ORDER BY p.name
2024-04-28 15:29:21.161 -04:00 [INF] Executed DbCommand (101ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
ORDER BY p.name
2024-04-28 15:29:21.162 -04:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:21.162 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:21.162 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 0ms reading results.
2024-04-28 15:29:21.162 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:21.162 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:21.162 -04:00 [INF] Executed action method WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 102.9369ms.
2024-04-28 15:29:21.162 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-04-28 15:29:21.163 -04:00 [DBG] No information found on request to perform content negotiation.
2024-04-28 15:29:21.163 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-28 15:29:21.163 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-28 15:29:21.163 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-28 15:29:21.163 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebServiceApp.Models.ProductDto, WebServiceApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-28 15:29:21.163 -04:00 [INF] Executed action WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp) in 103.8759ms
2024-04-28 15:29:21.163 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:29:21.163 -04:00 [DBG] Connection id "0HN37N4KCNRBD" completed keep alive response.
2024-04-28 15:29:21.163 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:29:21.163 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:21.163 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:21.163 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5102/api/products - 200 328 application/json; charset=utf-8 105.4231ms
2024-04-28 15:29:21.166 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5102/api/cart/4 - null null
2024-04-28 15:29:21.166 -04:00 [DBG] The request path  does not match the path filter
2024-04-28 15:29:21.166 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:29:21.166 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:29:21.167 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cart/4'
2024-04-28 15:29:21.167 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp)' with route pattern 'api/cart/{customerId:int}' is valid for the request path '/api/cart/4'
2024-04-28 15:29:21.167 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp)'
2024-04-28 15:29:21.167 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:29:21.167 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp)'
2024-04-28 15:29:21.167 -04:00 [INF] Route matched with {action = "GetCustomerCartItems", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[WebServiceApp.Models.CartDto]]] GetCustomerCartItems(Int32) on controller WebServiceApp.Controllers.CartController (WebServiceApp).
2024-04-28 15:29:21.167 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:29:21.167 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:29:21.167 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:29:21.167 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:29:21.167 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:29:21.167 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:21.168 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:21.168 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:21.168 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2024-04-28 15:29:21.168 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:21.168 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:21.168 -04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:21.168 -04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:21.168 -04:00 [INF] Executing action method WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:29:21.168 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:29:21.168 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:29:21.169 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:29:21.169 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:21.169 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:21.169 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:21.169 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:21.169 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:21.169 -04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.createddate, c."customerId", c."isProccesed", c.productid, c.quantity, c.totalamount, c.updateddate
FROM cart AS c
WHERE c."customerId" = @__customerId_0
2024-04-28 15:29:21.280 -04:00 [INF] Executed DbCommand (111ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.createddate, c."customerId", c."isProccesed", c.productid, c.quantity, c.totalamount, c.updateddate
FROM cart AS c
WHERE c."customerId" = @__customerId_0
2024-04-28 15:29:21.280 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:21.280 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 0ms reading results.
2024-04-28 15:29:21.280 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:21.280 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:21.280 -04:00 [INF] Executed action method WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 112.0429ms.
2024-04-28 15:29:21.280 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-04-28 15:29:21.280 -04:00 [DBG] No information found on request to perform content negotiation.
2024-04-28 15:29:21.280 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-28 15:29:21.280 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-28 15:29:21.280 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-28 15:29:21.280 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebServiceApp.Models.CartDto, WebServiceApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-28 15:29:21.280 -04:00 [INF] Executed action WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp) in 113.1983ms
2024-04-28 15:29:21.281 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp)'
2024-04-28 15:29:21.281 -04:00 [DBG] Connection id "0HN37N4KCNRBD" completed keep alive response.
2024-04-28 15:29:21.281 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:29:21.281 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:21.281 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:21.281 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5102/api/cart/4 - 200 2 application/json; charset=utf-8 114.5592ms
2024-04-28 15:29:21.502 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5102/api/cart/4 - application/json 52
2024-04-28 15:29:21.503 -04:00 [DBG] POST requests are not supported
2024-04-28 15:29:21.503 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:29:21.503 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:29:21.503 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cart/4'
2024-04-28 15:29:21.504 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)' with route pattern 'api/cart/{customerId:int}' is valid for the request path '/api/cart/4'
2024-04-28 15:29:21.504 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)'
2024-04-28 15:29:21.504 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:29:21.505 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)'
2024-04-28 15:29:21.505 -04:00 [INF] Route matched with {action = "AddCustomerCartItem", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebServiceApp.Models.CartDto]] AddCustomerCartItem(Int32, WebServiceApp.Models.CartCreate) on controller WebServiceApp.Controllers.CartController (WebServiceApp).
2024-04-28 15:29:21.505 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:29:21.505 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:29:21.505 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:29:21.505 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:29:21.505 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:29:21.506 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:21.506 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:21.507 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:21.507 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2024-04-28 15:29:21.507 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:21.507 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:21.507 -04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:21.507 -04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:21.507 -04:00 [DBG] Attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate' ...
2024-04-28 15:29:21.507 -04:00 [DBG] Attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate' using the name '' in request data ...
2024-04-28 15:29:21.507 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-04-28 15:29:21.507 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-04-28 15:29:21.508 -04:00 [DBG] Connection id "0HN37N4KCNRBD", Request id "0HN37N4KCNRBD:0000001D": started reading request body.
2024-04-28 15:29:21.508 -04:00 [DBG] Connection id "0HN37N4KCNRBD", Request id "0HN37N4KCNRBD:0000001D": done reading request body.
2024-04-28 15:29:21.508 -04:00 [DBG] Done attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate'.
2024-04-28 15:29:21.508 -04:00 [DBG] Done attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate'.
2024-04-28 15:29:21.508 -04:00 [DBG] Attempting to validate the bound parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate' ...
2024-04-28 15:29:21.508 -04:00 [DBG] Done attempting to validate the bound parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate'.
2024-04-28 15:29:21.509 -04:00 [INF] Executing action method WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:29:21.510 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:29:21.510 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:29:21.510 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:29:21.510 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:21.511 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:21.511 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:21.511 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:21.511 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:21.511 -04:00 [DBG] Executing DbCommand [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
WHERE p.id = @__productId_0
LIMIT 1
2024-04-28 15:29:21.614 -04:00 [INF] Executed DbCommand (103ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
WHERE p.id = @__productId_0
LIMIT 1
2024-04-28 15:29:21.615 -04:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:21.616 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:21.616 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 0ms reading results.
2024-04-28 15:29:21.616 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:21.616 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:21.617 -04:00 [DBG] 'StoreContext' generated a temporary value for the property 'Cart.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:21.617 -04:00 [DBG] The navigation 'Cart.Product' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:21.617 -04:00 [DBG] Context 'StoreContext' started tracking 'Cart' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:21.618 -04:00 [DBG] DetectChanges starting for 'StoreContext'.
2024-04-28 15:29:21.618 -04:00 [DBG] DetectChanges completed for 'StoreContext'.
2024-04-28 15:29:21.618 -04:00 [DBG] SaveChanges starting for 'StoreContext'.
2024-04-28 15:29:21.618 -04:00 [DBG] DetectChanges starting for 'StoreContext'.
2024-04-28 15:29:21.618 -04:00 [DBG] The unchanged property 'Cart.CreatedDate' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-04-28 15:29:21.618 -04:00 [DBG] DetectChanges completed for 'StoreContext'.
2024-04-28 15:29:21.619 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:21.619 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:21.620 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:21.620 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:21.620 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:21.620 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO cart (createddate, "customerId", "isProccesed", productid, quantity, totalamount, updateddate)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING id;
2024-04-28 15:29:21.725 -04:00 [ERR] Failed executing DbCommand (105ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO cart (createddate, "customerId", "isProccesed", productid, quantity, totalamount, updateddate)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING id;
2024-04-28 15:29:21.725 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:21.725 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:21.726 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'WebServiceApp.DbContext.StoreContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: cart
    ConstraintName: FK_cart_customers_customerId
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: cart
    ConstraintName: FK_cart_customers_customerId
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-04-28 15:29:21.728 -04:00 [INF] Executed action WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp) in 222.2219ms
2024-04-28 15:29:21.728 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)'
2024-04-28 15:29:21.728 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: cart
    ConstraintName: FK_cart_customers_customerId
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebServiceApp.Services.StoreRepository.SaveChangesAsync() in /Users/ulia/development/seir_seal/projects/CAPSTONE/BECapstone/WebServiceApp/Services/StoreRepository.cs:line 145
   at WebServiceApp.Controllers.CartController.AddCustomerCartItem(Int32 customerId, CartCreate cartCreate) in /Users/ulia/development/seir_seal/projects/CAPSTONE/BECapstone/WebServiceApp/Controllers/CartController.cs:line 55
   at lambda_method190(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-04-28 15:29:21.731 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-04-28 15:29:21.731 -04:00 [DBG] No information found on request to perform content negotiation.
2024-04-28 15:29:21.731 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2024-04-28 15:29:21.731 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-04-28 15:29:21.732 -04:00 [DBG] Connection id "0HN37N4KCNRBD" completed keep alive response.
2024-04-28 15:29:21.732 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:29:21.732 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:21.732 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:21.732 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5102/api/cart/4 - 500 327 application/problem+json; charset=utf-8 229.6525ms
2024-04-28 15:29:21.735 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5102/api/products - null null
2024-04-28 15:29:21.736 -04:00 [DBG] The request path  does not match the path filter
2024-04-28 15:29:21.736 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:29:21.736 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:29:21.736 -04:00 [DBG] 1 candidate(s) found for the request path '/api/products'
2024-04-28 15:29:21.736 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)' with route pattern 'api/products' is valid for the request path '/api/products'
2024-04-28 15:29:21.736 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:29:21.736 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:29:21.736 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:29:21.736 -04:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[WebServiceApp.Models.ProductDto]]] GetProducts() on controller WebServiceApp.Controllers.ProductController (WebServiceApp).
2024-04-28 15:29:21.736 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:29:21.736 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:29:21.736 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:29:21.736 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:29:21.736 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:29:21.736 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.ProductController (WebServiceApp)
2024-04-28 15:29:21.736 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.ProductController (WebServiceApp)
2024-04-28 15:29:21.736 -04:00 [INF] Executing action method WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:29:21.737 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:29:21.737 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:29:21.737 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:29:21.737 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:21.737 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:21.737 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:21.737 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:21.737 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:21.737 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
ORDER BY p.name
2024-04-28 15:29:21.845 -04:00 [INF] Executed DbCommand (108ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
ORDER BY p.name
2024-04-28 15:29:21.845 -04:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:21.845 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:21.845 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 0ms reading results.
2024-04-28 15:29:21.845 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:21.845 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:21.846 -04:00 [INF] Executed action method WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 109.0986ms.
2024-04-28 15:29:21.846 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-04-28 15:29:21.846 -04:00 [DBG] No information found on request to perform content negotiation.
2024-04-28 15:29:21.846 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-28 15:29:21.846 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-28 15:29:21.846 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-28 15:29:21.846 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebServiceApp.Models.ProductDto, WebServiceApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-28 15:29:21.846 -04:00 [INF] Executed action WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp) in 109.6865ms
2024-04-28 15:29:21.846 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:29:21.846 -04:00 [DBG] Connection id "0HN37N4KCNRBD" completed keep alive response.
2024-04-28 15:29:21.846 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:29:21.846 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:21.846 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:21.846 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5102/api/products - 200 328 application/json; charset=utf-8 110.7623ms
2024-04-28 15:29:21.849 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5102/api/cart/4 - null null
2024-04-28 15:29:21.849 -04:00 [DBG] The request path  does not match the path filter
2024-04-28 15:29:21.849 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:29:21.849 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:29:21.849 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cart/4'
2024-04-28 15:29:21.849 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp)' with route pattern 'api/cart/{customerId:int}' is valid for the request path '/api/cart/4'
2024-04-28 15:29:21.849 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp)'
2024-04-28 15:29:21.849 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:29:21.849 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp)'
2024-04-28 15:29:21.849 -04:00 [INF] Route matched with {action = "GetCustomerCartItems", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[WebServiceApp.Models.CartDto]]] GetCustomerCartItems(Int32) on controller WebServiceApp.Controllers.CartController (WebServiceApp).
2024-04-28 15:29:21.849 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:29:21.849 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:29:21.849 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:29:21.849 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:29:21.849 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:29:21.849 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:21.849 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:21.850 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:21.850 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2024-04-28 15:29:21.850 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:21.850 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:21.850 -04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:21.850 -04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:21.850 -04:00 [INF] Executing action method WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:29:21.850 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:29:21.850 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:29:21.850 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:29:21.850 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:21.850 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:21.850 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:21.850 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:21.850 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:21.850 -04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.createddate, c."customerId", c."isProccesed", c.productid, c.quantity, c.totalamount, c.updateddate
FROM cart AS c
WHERE c."customerId" = @__customerId_0
2024-04-28 15:29:21.903 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5102/api/cart/4 - application/json 52
2024-04-28 15:29:21.903 -04:00 [DBG] POST requests are not supported
2024-04-28 15:29:21.903 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:29:21.903 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:29:21.903 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cart/4'
2024-04-28 15:29:21.903 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)' with route pattern 'api/cart/{customerId:int}' is valid for the request path '/api/cart/4'
2024-04-28 15:29:21.903 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)'
2024-04-28 15:29:21.903 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:29:21.903 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)'
2024-04-28 15:29:21.903 -04:00 [INF] Route matched with {action = "AddCustomerCartItem", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebServiceApp.Models.CartDto]] AddCustomerCartItem(Int32, WebServiceApp.Models.CartCreate) on controller WebServiceApp.Controllers.CartController (WebServiceApp).
2024-04-28 15:29:21.904 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:29:21.904 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:29:21.904 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:29:21.904 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:29:21.904 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:29:21.904 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:21.904 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:21.904 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:21.904 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2024-04-28 15:29:21.904 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:21.904 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:21.904 -04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:21.904 -04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:21.904 -04:00 [DBG] Attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate' ...
2024-04-28 15:29:21.904 -04:00 [DBG] Attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate' using the name '' in request data ...
2024-04-28 15:29:21.904 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-04-28 15:29:21.904 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-04-28 15:29:21.904 -04:00 [DBG] Connection id "0HN37N4KCNRBF", Request id "0HN37N4KCNRBF:00000003": started reading request body.
2024-04-28 15:29:21.904 -04:00 [DBG] Connection id "0HN37N4KCNRBF", Request id "0HN37N4KCNRBF:00000003": done reading request body.
2024-04-28 15:29:21.904 -04:00 [DBG] Done attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate'.
2024-04-28 15:29:21.904 -04:00 [DBG] Done attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate'.
2024-04-28 15:29:21.904 -04:00 [DBG] Attempting to validate the bound parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate' ...
2024-04-28 15:29:21.905 -04:00 [DBG] Done attempting to validate the bound parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate'.
2024-04-28 15:29:21.905 -04:00 [INF] Executing action method WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:29:21.905 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:29:21.905 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:29:21.905 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:29:21.905 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:21.905 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:21.905 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:21.905 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:21.905 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:21.905 -04:00 [DBG] Executing DbCommand [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
WHERE p.id = @__productId_0
LIMIT 1
2024-04-28 15:29:21.945 -04:00 [INF] Executed DbCommand (94ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.createddate, c."customerId", c."isProccesed", c.productid, c.quantity, c.totalamount, c.updateddate
FROM cart AS c
WHERE c."customerId" = @__customerId_0
2024-04-28 15:29:21.945 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:21.945 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 0ms reading results.
2024-04-28 15:29:21.945 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:21.945 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:21.945 -04:00 [INF] Executed action method WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 95.5266ms.
2024-04-28 15:29:21.945 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-04-28 15:29:21.945 -04:00 [DBG] No information found on request to perform content negotiation.
2024-04-28 15:29:21.946 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-28 15:29:21.946 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-28 15:29:21.946 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-28 15:29:21.946 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebServiceApp.Models.CartDto, WebServiceApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-28 15:29:21.946 -04:00 [INF] Executed action WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp) in 96.3664ms
2024-04-28 15:29:21.946 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp)'
2024-04-28 15:29:21.946 -04:00 [DBG] Connection id "0HN37N4KCNRBD" completed keep alive response.
2024-04-28 15:29:21.946 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:29:21.946 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:21.946 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:21.946 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5102/api/cart/4 - 200 2 application/json; charset=utf-8 97.6461ms
2024-04-28 15:29:22.002 -04:00 [INF] Executed DbCommand (97ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
WHERE p.id = @__productId_0
LIMIT 1
2024-04-28 15:29:22.002 -04:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:22.002 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:22.003 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 0ms reading results.
2024-04-28 15:29:22.003 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:22.003 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:22.003 -04:00 [DBG] 'StoreContext' generated a temporary value for the property 'Cart.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:22.003 -04:00 [DBG] The navigation 'Cart.Product' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:22.003 -04:00 [DBG] Context 'StoreContext' started tracking 'Cart' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:22.003 -04:00 [DBG] DetectChanges starting for 'StoreContext'.
2024-04-28 15:29:22.003 -04:00 [DBG] DetectChanges completed for 'StoreContext'.
2024-04-28 15:29:22.003 -04:00 [DBG] SaveChanges starting for 'StoreContext'.
2024-04-28 15:29:22.003 -04:00 [DBG] DetectChanges starting for 'StoreContext'.
2024-04-28 15:29:22.003 -04:00 [DBG] The unchanged property 'Cart.CreatedDate' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-04-28 15:29:22.003 -04:00 [DBG] DetectChanges completed for 'StoreContext'.
2024-04-28 15:29:22.004 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:22.004 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:22.004 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:22.004 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:22.004 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:22.004 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO cart (createddate, "customerId", "isProccesed", productid, quantity, totalamount, updateddate)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING id;
2024-04-28 15:29:22.124 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5102/api/cart/4 - application/json 52
2024-04-28 15:29:22.124 -04:00 [DBG] POST requests are not supported
2024-04-28 15:29:22.124 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:29:22.124 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:29:22.124 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cart/4'
2024-04-28 15:29:22.124 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)' with route pattern 'api/cart/{customerId:int}' is valid for the request path '/api/cart/4'
2024-04-28 15:29:22.124 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)'
2024-04-28 15:29:22.124 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:29:22.124 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)'
2024-04-28 15:29:22.124 -04:00 [INF] Route matched with {action = "AddCustomerCartItem", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebServiceApp.Models.CartDto]] AddCustomerCartItem(Int32, WebServiceApp.Models.CartCreate) on controller WebServiceApp.Controllers.CartController (WebServiceApp).
2024-04-28 15:29:22.124 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:29:22.125 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:29:22.125 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:29:22.125 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:29:22.125 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:29:22.125 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:22.125 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:22.125 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:22.125 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2024-04-28 15:29:22.125 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:22.125 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:22.125 -04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:22.125 -04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:22.125 -04:00 [DBG] Attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate' ...
2024-04-28 15:29:22.125 -04:00 [DBG] Attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate' using the name '' in request data ...
2024-04-28 15:29:22.125 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-04-28 15:29:22.125 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-04-28 15:29:22.126 -04:00 [DBG] Connection id "0HN37N4KCNRBD", Request id "0HN37N4KCNRBD:00000020": started reading request body.
2024-04-28 15:29:22.126 -04:00 [DBG] Connection id "0HN37N4KCNRBD", Request id "0HN37N4KCNRBD:00000020": done reading request body.
2024-04-28 15:29:22.126 -04:00 [DBG] Done attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate'.
2024-04-28 15:29:22.126 -04:00 [DBG] Done attempting to bind parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate'.
2024-04-28 15:29:22.126 -04:00 [DBG] Attempting to validate the bound parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate' ...
2024-04-28 15:29:22.126 -04:00 [DBG] Done attempting to validate the bound parameter 'cartCreate' of type 'WebServiceApp.Models.CartCreate'.
2024-04-28 15:29:22.126 -04:00 [INF] Executing action method WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:29:22.126 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:29:22.127 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:29:22.127 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:29:22.127 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:22.127 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:22.127 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:22.127 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:22.127 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:22.127 -04:00 [DBG] Executing DbCommand [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
WHERE p.id = @__productId_0
LIMIT 1
2024-04-28 15:29:22.137 -04:00 [ERR] Failed executing DbCommand (133ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO cart (createddate, "customerId", "isProccesed", productid, quantity, totalamount, updateddate)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING id;
2024-04-28 15:29:22.137 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:22.137 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:22.138 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'WebServiceApp.DbContext.StoreContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: cart
    ConstraintName: FK_cart_customers_customerId
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: cart
    ConstraintName: FK_cart_customers_customerId
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-04-28 15:29:22.140 -04:00 [INF] Executed action WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp) in 236.4366ms
2024-04-28 15:29:22.140 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)'
2024-04-28 15:29:22.140 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: cart
    ConstraintName: FK_cart_customers_customerId
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebServiceApp.Services.StoreRepository.SaveChangesAsync() in /Users/ulia/development/seir_seal/projects/CAPSTONE/BECapstone/WebServiceApp/Services/StoreRepository.cs:line 145
   at WebServiceApp.Controllers.CartController.AddCustomerCartItem(Int32 customerId, CartCreate cartCreate) in /Users/ulia/development/seir_seal/projects/CAPSTONE/BECapstone/WebServiceApp/Controllers/CartController.cs:line 55
   at lambda_method190(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-04-28 15:29:22.144 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-04-28 15:29:22.144 -04:00 [DBG] No information found on request to perform content negotiation.
2024-04-28 15:29:22.144 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2024-04-28 15:29:22.144 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-04-28 15:29:22.144 -04:00 [DBG] Connection id "0HN37N4KCNRBF" completed keep alive response.
2024-04-28 15:29:22.145 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:29:22.145 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:22.145 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:22.145 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5102/api/cart/4 - 500 327 application/problem+json; charset=utf-8 241.6216ms
2024-04-28 15:29:22.227 -04:00 [INF] Executed DbCommand (100ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
WHERE p.id = @__productId_0
LIMIT 1
2024-04-28 15:29:22.228 -04:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:22.228 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:22.228 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 0ms reading results.
2024-04-28 15:29:22.228 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:22.228 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:22.228 -04:00 [DBG] 'StoreContext' generated a temporary value for the property 'Cart.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:22.228 -04:00 [DBG] The navigation 'Cart.Product' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:22.228 -04:00 [DBG] Context 'StoreContext' started tracking 'Cart' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:22.228 -04:00 [DBG] DetectChanges starting for 'StoreContext'.
2024-04-28 15:29:22.228 -04:00 [DBG] DetectChanges completed for 'StoreContext'.
2024-04-28 15:29:22.229 -04:00 [DBG] SaveChanges starting for 'StoreContext'.
2024-04-28 15:29:22.229 -04:00 [DBG] DetectChanges starting for 'StoreContext'.
2024-04-28 15:29:22.229 -04:00 [DBG] The unchanged property 'Cart.CreatedDate' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-04-28 15:29:22.229 -04:00 [DBG] DetectChanges completed for 'StoreContext'.
2024-04-28 15:29:22.229 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:22.229 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:22.229 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:22.229 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:22.229 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:22.229 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO cart (createddate, "customerId", "isProccesed", productid, quantity, totalamount, updateddate)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING id;
2024-04-28 15:29:22.328 -04:00 [ERR] Failed executing DbCommand (98ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double), @p6='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO cart (createddate, "customerId", "isProccesed", productid, quantity, totalamount, updateddate)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING id;
2024-04-28 15:29:22.329 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:22.329 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:22.332 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'WebServiceApp.DbContext.StoreContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: cart
    ConstraintName: FK_cart_customers_customerId
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: cart
    ConstraintName: FK_cart_customers_customerId
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-04-28 15:29:22.336 -04:00 [INF] Executed action WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp) in 211.7137ms
2024-04-28 15:29:22.337 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.CartController.AddCustomerCartItem (WebServiceApp)'
2024-04-28 15:29:22.337 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "cart" violates foreign key constraint "FK_cart_customers_customerId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: cart
    ConstraintName: FK_cart_customers_customerId
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at WebServiceApp.Services.StoreRepository.SaveChangesAsync() in /Users/ulia/development/seir_seal/projects/CAPSTONE/BECapstone/WebServiceApp/Services/StoreRepository.cs:line 145
   at WebServiceApp.Controllers.CartController.AddCustomerCartItem(Int32 customerId, CartCreate cartCreate) in /Users/ulia/development/seir_seal/projects/CAPSTONE/BECapstone/WebServiceApp/Controllers/CartController.cs:line 55
   at lambda_method190(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-04-28 15:29:22.344 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-04-28 15:29:22.344 -04:00 [DBG] No information found on request to perform content negotiation.
2024-04-28 15:29:22.344 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2024-04-28 15:29:22.344 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-04-28 15:29:22.344 -04:00 [DBG] Connection id "0HN37N4KCNRBD" completed keep alive response.
2024-04-28 15:29:22.344 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:29:22.344 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:22.344 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:22.344 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5102/api/cart/4 - 500 327 application/problem+json; charset=utf-8 220.7144ms
2024-04-28 15:29:22.349 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5102/api/products - null null
2024-04-28 15:29:22.349 -04:00 [DBG] The request path  does not match the path filter
2024-04-28 15:29:22.349 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:29:22.349 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:29:22.349 -04:00 [DBG] 1 candidate(s) found for the request path '/api/products'
2024-04-28 15:29:22.349 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)' with route pattern 'api/products' is valid for the request path '/api/products'
2024-04-28 15:29:22.349 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:29:22.349 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:29:22.349 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:29:22.349 -04:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[WebServiceApp.Models.ProductDto]]] GetProducts() on controller WebServiceApp.Controllers.ProductController (WebServiceApp).
2024-04-28 15:29:22.349 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:29:22.349 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:29:22.350 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:29:22.350 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:29:22.350 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:29:22.350 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.ProductController (WebServiceApp)
2024-04-28 15:29:22.350 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.ProductController (WebServiceApp)
2024-04-28 15:29:22.350 -04:00 [INF] Executing action method WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:29:22.350 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:29:22.351 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:29:22.351 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:29:22.351 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:22.351 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:22.351 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:22.351 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:22.351 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:22.351 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
ORDER BY p.name
2024-04-28 15:29:22.450 -04:00 [INF] Executed DbCommand (99ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
ORDER BY p.name
2024-04-28 15:29:22.450 -04:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:22.450 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:22.450 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 0ms reading results.
2024-04-28 15:29:22.450 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:22.450 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:22.450 -04:00 [INF] Executed action method WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 100.2502ms.
2024-04-28 15:29:22.450 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-04-28 15:29:22.451 -04:00 [DBG] No information found on request to perform content negotiation.
2024-04-28 15:29:22.451 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-28 15:29:22.451 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-28 15:29:22.451 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-28 15:29:22.451 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebServiceApp.Models.ProductDto, WebServiceApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-28 15:29:22.451 -04:00 [INF] Executed action WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp) in 101.1282ms
2024-04-28 15:29:22.451 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:29:22.451 -04:00 [DBG] Connection id "0HN37N4KCNRBD" completed keep alive response.
2024-04-28 15:29:22.451 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:29:22.451 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:22.451 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:22.451 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5102/api/products - 200 328 application/json; charset=utf-8 102.5036ms
2024-04-28 15:29:22.454 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5102/api/cart/4 - null null
2024-04-28 15:29:22.454 -04:00 [DBG] The request path  does not match the path filter
2024-04-28 15:29:22.454 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:29:22.454 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:29:22.454 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cart/4'
2024-04-28 15:29:22.454 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp)' with route pattern 'api/cart/{customerId:int}' is valid for the request path '/api/cart/4'
2024-04-28 15:29:22.454 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp)'
2024-04-28 15:29:22.454 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:29:22.454 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp)'
2024-04-28 15:29:22.454 -04:00 [INF] Route matched with {action = "GetCustomerCartItems", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[WebServiceApp.Models.CartDto]]] GetCustomerCartItems(Int32) on controller WebServiceApp.Controllers.CartController (WebServiceApp).
2024-04-28 15:29:22.454 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:29:22.454 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:29:22.454 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:29:22.454 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:29:22.454 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:29:22.454 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:22.455 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.CartController (WebServiceApp)
2024-04-28 15:29:22.455 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:22.455 -04:00 [DBG] Attempting to bind parameter 'customerId' of type 'System.Int32' using the name 'customerId' in request data ...
2024-04-28 15:29:22.455 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:22.455 -04:00 [DBG] Done attempting to bind parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:22.455 -04:00 [DBG] Attempting to validate the bound parameter 'customerId' of type 'System.Int32' ...
2024-04-28 15:29:22.455 -04:00 [DBG] Done attempting to validate the bound parameter 'customerId' of type 'System.Int32'.
2024-04-28 15:29:22.455 -04:00 [INF] Executing action method WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:29:22.455 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:29:22.455 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:29:22.455 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:29:22.455 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:22.455 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:22.456 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:22.456 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:22.456 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:22.456 -04:00 [DBG] Executing DbCommand [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.createddate, c."customerId", c."isProccesed", c.productid, c.quantity, c.totalamount, c.updateddate
FROM cart AS c
WHERE c."customerId" = @__customerId_0
2024-04-28 15:29:22.559 -04:00 [INF] Executed DbCommand (104ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.createddate, c."customerId", c."isProccesed", c.productid, c.quantity, c.totalamount, c.updateddate
FROM cart AS c
WHERE c."customerId" = @__customerId_0
2024-04-28 15:29:22.560 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:22.560 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 0ms reading results.
2024-04-28 15:29:22.560 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:22.560 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:22.560 -04:00 [INF] Executed action method WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 104.9303ms.
2024-04-28 15:29:22.560 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-04-28 15:29:22.560 -04:00 [DBG] No information found on request to perform content negotiation.
2024-04-28 15:29:22.560 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-28 15:29:22.560 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-28 15:29:22.560 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-28 15:29:22.560 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebServiceApp.Models.CartDto, WebServiceApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-28 15:29:22.560 -04:00 [INF] Executed action WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp) in 105.8332ms
2024-04-28 15:29:22.560 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.CartController.GetCustomerCartItems (WebServiceApp)'
2024-04-28 15:29:22.560 -04:00 [DBG] Connection id "0HN37N4KCNRBD" completed keep alive response.
2024-04-28 15:29:22.560 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:29:22.560 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:22.560 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:22.560 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5102/api/cart/4 - 200 2 application/json; charset=utf-8 106.7928ms
2024-04-28 15:29:26.863 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5102/api/products - null null
2024-04-28 15:29:26.863 -04:00 [DBG] The request path  does not match the path filter
2024-04-28 15:29:26.863 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:29:26.863 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:29:26.863 -04:00 [DBG] 1 candidate(s) found for the request path '/api/products'
2024-04-28 15:29:26.863 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)' with route pattern 'api/products' is valid for the request path '/api/products'
2024-04-28 15:29:26.864 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:29:26.864 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:29:26.864 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:29:26.864 -04:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[WebServiceApp.Models.ProductDto]]] GetProducts() on controller WebServiceApp.Controllers.ProductController (WebServiceApp).
2024-04-28 15:29:26.864 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:29:26.864 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:29:26.864 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:29:26.864 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:29:26.864 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:29:26.864 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.ProductController (WebServiceApp)
2024-04-28 15:29:26.864 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.ProductController (WebServiceApp)
2024-04-28 15:29:26.865 -04:00 [INF] Executing action method WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:29:26.865 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:29:26.866 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:29:26.866 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:29:26.866 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:26.866 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:26.866 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:26.866 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:26.866 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:26.866 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
ORDER BY p.name
2024-04-28 15:29:26.965 -04:00 [INF] Executed DbCommand (99ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
ORDER BY p.name
2024-04-28 15:29:26.965 -04:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:26.966 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:26.966 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 0ms reading results.
2024-04-28 15:29:26.966 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:26.966 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:26.966 -04:00 [INF] Executed action method WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 101.4276ms.
2024-04-28 15:29:26.966 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-04-28 15:29:26.967 -04:00 [DBG] No information found on request to perform content negotiation.
2024-04-28 15:29:26.967 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-28 15:29:26.967 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-28 15:29:26.967 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-28 15:29:26.967 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebServiceApp.Models.ProductDto, WebServiceApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-28 15:29:26.967 -04:00 [INF] Executed action WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp) in 102.8478ms
2024-04-28 15:29:26.967 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:29:26.967 -04:00 [DBG] Connection id "0HN37N4KCNRBD" completed keep alive response.
2024-04-28 15:29:26.968 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:29:26.968 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:26.968 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:26.968 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5102/api/products - 200 328 application/json; charset=utf-8 105.4125ms
2024-04-28 15:29:30.454 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5102/api/products/1/ - null null
2024-04-28 15:29:30.455 -04:00 [DBG] OPTIONS requests are not supported
2024-04-28 15:29:30.455 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:29:30.455 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:29:30.455 -04:00 [DBG] The request is a preflight request.
2024-04-28 15:29:30.455 -04:00 [DBG] Connection id "0HN37N4KCNRBD" completed keep alive response.
2024-04-28 15:29:30.456 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5102/api/products/1/ - 204 null null 1.4162ms
2024-04-28 15:29:30.458 -04:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5102/api/products/1/ - null null
2024-04-28 15:29:30.458 -04:00 [DBG] DELETE requests are not supported
2024-04-28 15:29:30.458 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:29:30.458 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:29:30.458 -04:00 [DBG] 1 candidate(s) found for the request path '/api/products/1/'
2024-04-28 15:29:30.458 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.ProductController.DeleteProduct (WebServiceApp)' with route pattern 'api/products/{productId:int}' is valid for the request path '/api/products/1/'
2024-04-28 15:29:30.459 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.ProductController.DeleteProduct (WebServiceApp)'
2024-04-28 15:29:30.459 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:29:30.459 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.ProductController.DeleteProduct (WebServiceApp)'
2024-04-28 15:29:30.465 -04:00 [INF] Route matched with {action = "DeleteProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteProduct(Int32) on controller WebServiceApp.Controllers.ProductController (WebServiceApp).
2024-04-28 15:29:30.465 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:29:30.465 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:29:30.465 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:29:30.465 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:29:30.465 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:29:30.465 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.ProductController (WebServiceApp)
2024-04-28 15:29:30.466 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.ProductController (WebServiceApp)
2024-04-28 15:29:30.466 -04:00 [DBG] Attempting to bind parameter 'productId' of type 'System.Int32' ...
2024-04-28 15:29:30.466 -04:00 [DBG] Attempting to bind parameter 'productId' of type 'System.Int32' using the name 'productId' in request data ...
2024-04-28 15:29:30.466 -04:00 [DBG] Done attempting to bind parameter 'productId' of type 'System.Int32'.
2024-04-28 15:29:30.467 -04:00 [DBG] Done attempting to bind parameter 'productId' of type 'System.Int32'.
2024-04-28 15:29:30.467 -04:00 [DBG] Attempting to validate the bound parameter 'productId' of type 'System.Int32' ...
2024-04-28 15:29:30.467 -04:00 [DBG] Done attempting to validate the bound parameter 'productId' of type 'System.Int32'.
2024-04-28 15:29:30.467 -04:00 [INF] Executing action method WebServiceApp.Controllers.ProductController.DeleteProduct (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:29:30.469 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:29:30.470 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:29:30.470 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:29:30.470 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:30.470 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:30.470 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:30.470 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:30.470 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:30.470 -04:00 [DBG] Executing DbCommand [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
WHERE p.id = @__productId_0
LIMIT 1
2024-04-28 15:29:30.614 -04:00 [INF] Executed DbCommand (144ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
WHERE p.id = @__productId_0
LIMIT 1
2024-04-28 15:29:30.615 -04:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:30.615 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:30.616 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 0ms reading results.
2024-04-28 15:29:30.616 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:30.616 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:30.619 -04:00 [DBG] An entity of type 'Product' tracked by 'StoreContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:30.622 -04:00 [DBG] DetectChanges starting for 'StoreContext'.
2024-04-28 15:29:30.622 -04:00 [DBG] DetectChanges completed for 'StoreContext'.
2024-04-28 15:29:30.623 -04:00 [DBG] SaveChanges starting for 'StoreContext'.
2024-04-28 15:29:30.623 -04:00 [DBG] DetectChanges starting for 'StoreContext'.
2024-04-28 15:29:30.623 -04:00 [DBG] DetectChanges completed for 'StoreContext'.
2024-04-28 15:29:30.630 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:30.630 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:30.630 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:30.631 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:30.631 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:30.631 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM products
WHERE id = @p0;
2024-04-28 15:29:30.732 -04:00 [INF] Executed DbCommand (102ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM products
WHERE id = @p0;
2024-04-28 15:29:30.735 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:30.735 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 1ms reading results.
2024-04-28 15:29:30.735 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:30.735 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:30.741 -04:00 [DBG] An entity of type 'Product' tracked by 'StoreContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-04-28 15:29:30.741 -04:00 [DBG] SaveChanges completed for 'StoreContext' with 1 entities written to the database.
2024-04-28 15:29:30.743 -04:00 [INF] Executed action method WebServiceApp.Controllers.ProductController.DeleteProduct (WebServiceApp), returned result Microsoft.AspNetCore.Mvc.NoContentResult in 275.3681ms.
2024-04-28 15:29:30.744 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-04-28 15:29:30.744 -04:00 [INF] Executed action WebServiceApp.Controllers.ProductController.DeleteProduct (WebServiceApp) in 278.9749ms
2024-04-28 15:29:30.744 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.ProductController.DeleteProduct (WebServiceApp)'
2024-04-28 15:29:30.745 -04:00 [DBG] Connection id "0HN37N4KCNRBD" completed keep alive response.
2024-04-28 15:29:30.745 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:29:30.745 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:30.745 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:30.745 -04:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5102/api/products/1/ - 204 null null 286.8902ms
2024-04-28 15:29:30.750 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5102/api/products - null null
2024-04-28 15:29:30.750 -04:00 [DBG] The request path  does not match the path filter
2024-04-28 15:29:30.750 -04:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2024-04-28 15:29:30.750 -04:00 [INF] CORS policy execution successful.
2024-04-28 15:29:30.750 -04:00 [DBG] 1 candidate(s) found for the request path '/api/products'
2024-04-28 15:29:30.750 -04:00 [DBG] Endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)' with route pattern 'api/products' is valid for the request path '/api/products'
2024-04-28 15:29:30.757 -04:00 [DBG] Request matched endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:29:30.757 -04:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-04-28 15:29:30.757 -04:00 [INF] Executing endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:29:30.757 -04:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[WebServiceApp.Models.ProductDto]]] GetProducts() on controller WebServiceApp.Controllers.ProductController (WebServiceApp).
2024-04-28 15:29:30.758 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-04-28 15:29:30.758 -04:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2024-04-28 15:29:30.758 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-04-28 15:29:30.758 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-04-28 15:29:30.758 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-04-28 15:29:30.758 -04:00 [DBG] Executing controller factory for controller WebServiceApp.Controllers.ProductController (WebServiceApp)
2024-04-28 15:29:30.758 -04:00 [DBG] Executed controller factory for controller WebServiceApp.Controllers.ProductController (WebServiceApp)
2024-04-28 15:29:30.758 -04:00 [INF] Executing action method WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp) - Validation state: "Valid"
2024-04-28 15:29:30.758 -04:00 [DBG] Entity Framework Core 8.0.4 initialized 'StoreContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.2+5a671b9769f2d00a75b0ba42ce30c444a12407e3' with options: None
2024-04-28 15:29:30.758 -04:00 [DBG] Creating DbConnection.
2024-04-28 15:29:30.758 -04:00 [DBG] Created DbConnection. (0ms).
2024-04-28 15:29:30.758 -04:00 [DBG] Opening connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:30.758 -04:00 [DBG] Opened connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:30.759 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-04-28 15:29:30.759 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:30.759 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-04-28 15:29:30.759 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
ORDER BY p.name
2024-04-28 15:29:30.883 -04:00 [INF] Executed DbCommand (125ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p.id, p.createddate, p.description, p.image, p.inventory, p.name, p.price, p.serial, p.updateddate
FROM products AS p
ORDER BY p.name
2024-04-28 15:29:30.885 -04:00 [DBG] Closing data reader to 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:30.885 -04:00 [DBG] A data reader for 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' is being disposed after spending 0ms reading results.
2024-04-28 15:29:30.885 -04:00 [DBG] Closing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:30.885 -04:00 [DBG] Closed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:30.885 -04:00 [INF] Executed action method WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 127.3905ms.
2024-04-28 15:29:30.886 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-04-28 15:29:30.886 -04:00 [DBG] No information found on request to perform content negotiation.
2024-04-28 15:29:30.886 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-04-28 15:29:30.886 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-04-28 15:29:30.886 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-04-28 15:29:30.886 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebServiceApp.Models.ProductDto, WebServiceApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-28 15:29:30.886 -04:00 [INF] Executed action WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp) in 127.9933ms
2024-04-28 15:29:30.886 -04:00 [INF] Executed endpoint 'WebServiceApp.Controllers.ProductController.GetProducts (WebServiceApp)'
2024-04-28 15:29:30.886 -04:00 [DBG] Connection id "0HN37N4KCNRBD" completed keep alive response.
2024-04-28 15:29:30.886 -04:00 [DBG] 'StoreContext' disposed.
2024-04-28 15:29:30.886 -04:00 [DBG] Disposing connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432'.
2024-04-28 15:29:30.886 -04:00 [DBG] Disposed connection to database 'mystorerdb' on server 'tcp://dpg-cona2akf7o1s73fggol0-a.oregon-postgres.render.com:5432' (0ms).
2024-04-28 15:29:30.886 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5102/api/products - 200 2 application/json; charset=utf-8 136.3426ms
2024-04-28 15:30:20.802 -04:00 [DBG] Connection id "0HN37N4KCNRBC" disconnecting.
2024-04-28 15:30:20.803 -04:00 [DBG] Connection id "0HN37N4KCNRBC" stopped.
2024-04-28 15:30:20.805 -04:00 [DBG] Connection id "0HN37N4KCNRBC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-28 15:31:32.871 -04:00 [DBG] Connection id "0HN37N4KCNRBF" disconnecting.
2024-04-28 15:31:32.873 -04:00 [DBG] Connection id "0HN37N4KCNRBF" stopped.
2024-04-28 15:31:32.873 -04:00 [DBG] Connection id "0HN37N4KCNRBF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-28 15:31:41.880 -04:00 [DBG] Connection id "0HN37N4KCNRBD" disconnecting.
2024-04-28 15:31:41.880 -04:00 [DBG] Connection id "0HN37N4KCNRBD" stopped.
2024-04-28 15:31:41.880 -04:00 [DBG] Connection id "0HN37N4KCNRBD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-04-28 15:46:18.982 -04:00 [INF] Application is shutting down...
2024-04-28 15:46:18.984 -04:00 [DBG] Hosting stopping
2024-04-28 15:46:18.995 -04:00 [DBG] Hosting stopped
